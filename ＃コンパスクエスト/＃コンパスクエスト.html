<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <title>＃コンパスクエスト</title>
  </head>
  <body>
    <div id=base>
     <div id=titleBase >

      <div id="titleScreen">
       <img src=item/試作版タイトル画面1.png id=titleBack>
       <img id=titleStr1 src="item/試作版タイトル画面2.png">
       <img id=titleStr2 src="item/試作版タイトル画面3.png">
       <img id=titleButton src="item/試作版タイトル画面4.png" >
       <div id=tiBu onclick="titleClick()"></div>
      </div>

      <div id="homeScreen">
       <div id="homeBackCoror"></div>
       <img id="homeBack" src="item/ホーム画面デフォルト背景.png">
       <img id="homeCharacter" src=item/ホーム画面文字等.png>

       <div id="homeMenuButton"></div>
       <div id="homeFeedBackButton"></div>
       <div id="homeHeroButton"></div>
       <div id="homeAsistButton"></div>
       <div id="homeItemButton"></div>
       <div id="homeBattleButton" onclick="toStageSelect()"></div>
       <div id="homeCraftButton"></div>
       <div id="homeShopButton"></div>
      </div>

      <div id="stageSelectScreen">
       <div class=BlackBack></div>
       <div id=stageTitle1>
        <div id=stageTitle2>
         <h1 id=stageTitleBase></h1>
        </div>
       </div>
       <img src="item/ステージ選択画面とある家庭用メカの反乱.png" class=selectedStage>
       <div id=stageSelectReturn1>
        <div id=stageSelectReturn2>
         <div id=stageSelectReturn>戻る</div>
        </div>
       </div>
       <div id=level1Select1>
        <div id=level1Select2>
         <div id=level1Select>Level1</div>
         <img id=level1Remuneration src=item/勇気の欠片.png>
         <div class=itemNum>×1</div>
        </div>
       </div>
       <div id=level1SelectButton onclick="levelSelect(1)"></div>

       <div id=level2Select1>
        <div id=level2Select2>
         <div id=level2Select>Level2</div>
         <img id=level2Remuneration src=item/勇気の欠片.png>
         <div class=itemNum>×2</div>
        </div>
       </div>
       <div id=level2SelectButton onclick="levelSelect(2)"></div>

       <div id=level3Select1>
        <div id=level3Select2>
         <div id=level3Select>Level3</div>
         <img id=level3Remuneration src=item/ジャンクパーツ.png>
         <div class=itemNum>×1</div>
        </div>
       </div>
       <div id=level3SelectButton onclick="levelSelect(3)"></div>


       <div id=stageSelectReturnButton onclick="toHome()"></div>
       <div id="toNextStage1">
        <div id="toNextStage2">
         <img id=toNextStage3 src=item/→.png>
        </div>
       </div>
       <div id="toNextStageButton"></div>
       <div id="toPreviousStage1">
        <div id="toPreviousStage2">
         <img id=toPreviousStage3 src=item/→.png>
        </div>
       </div>
       <div id="toPreviousStageButton"></div>

       
      </div>

      <div id="partySelectScreen">

       <div id="partySelectBack"></div>
       <div id=partySelectReturn1>
        <div id=partySelectReturn2>
         <div id=partySelectReturn>戻る</div>
        </div>
       </div>

       <div id="partySelectReturnButton" onclick="toStageSelect()"></div>

       <div id=sprinterSelectBack1><div id=sprinterSelectBack2><h1 id=sprinterSelectBackBase></h1></div></div><div id="sprinterSelectBackButton" onclick="selectingRoleFunction('sprinter')"></div>
       <div id=sprinterSelectBack3>
        <div id=sprinterSecletBack4>
         <div id=atariSpSelectButton onclick="roleSet('sprinter','atari')"></img><div class=partySelectHero><img class=partySelectHeroImg src="item/atari.png"><span class=partySelectHeroName>十文字アタリ</span><br><div class=partySelectHeroSentence>体力:<font id=atariHP></font>　攻撃倍率:<font id=atariAttackStatus></font></div></div></div>
         <div id=voidollSpSelectButton onclick="roleSet('sprinter','voidoll')"><div class=partySelectHero><img class=partySelectHeroImg src="item/voidoll.png"><span class=partySelectHeroName>voidoll</span><br><div class=partySelectHeroSentence>体力:<font id=voidollHP></font>　攻撃倍率:<font id=voidollAttackStatus></font></div></div></div>
       <h1 id=nikolaSpSelectButtonBase><div id=nikolaSpSelectButton></div></h1>
        </div>
       </div>

       <div id=attackerSelectBack1><div id=attackerSelectBack2><h1 id=attackerSelectBackBase></h1></div></div><div id="attackerSelectBackButton" onclick="selectingRoleFunction('attacker')"></div>
       <div id=attackerSelectBack3>
        <div id=attackerSecletBack4>
         <div id=nohoAtSelectButton onclick="roleSet('attacker','noho')"></img><div class=partySelectHero><img class=partySelectHeroImg src="item/noho_skill1.png"><span class=partySelectHeroName>ギャリギャリ</span><br><div class=partySelectHeroSentence>威力:<font id=nohoSkill1status></font>　硬直:0.2s　射程:2<br>長押し対応</div></div></div>
         <div id=tadaomiAtSelectButton onclick="roleSet('attacker','tadaomi')"><div class=partySelectHero><img class=partySelectHeroImg src="item/tadaomi_skill1.png"><span class=partySelectHeroName>遠慮なく死ぬがいい！</span><br><div class=partySelectHeroSentence>威力:<font id=tadaomiSkill1status></font>　硬直:1.2s　射程:2</div></div></div>
         <div id=lucianoAtSelectButton onclick="roleSet('attacker','luciano')"><div class=partySelectHero><img class=partySelectHeroImg src="item/luciano_skill1.png"><span class=partySelectHeroName>死神の舞踏</span><br><div class=partySelectHeroSentence>威力:<font id=lucianoSkill1status></font>　硬直:0.5s　射程:6</div></div></div>
        </div>
       </div>

       <div id=gunnerSelectBack1><div id=gunnerSelectBack2><h1 id=gunnerSelectBackBase></h1></div></div><div id="gunnerSelectBackButton" onclick="selectingRoleFunction('gunner')"></div>
       <div id=gunnerSelectBack3>
        <div id=gunnerSecletBack4>
         <div id=lyricaGuSelectButton onclick="roleSet('gunner','lyrica')"></img><div class=partySelectHero><img class=partySelectHeroImg src="item/lyrica.png"><span class=partySelectHeroName>ドリーム☆バキューン</span><br><div class=partySelectHeroSentence>威力:<font id=lyricaSkill1status></font>　硬直:1.2s</div></div></div>
         <div id=matoiGuSelectButton onclick="roleSet('gunner','matoi')"><div class=partySelectHero><img class=partySelectHeroImg src="item/matoi.png"><span class=partySelectHeroName>深川印の新型火筒</span><br><div class=partySelectHeroSentence>威力:<font id=matoiSkill1status></font>　硬直:3.0s</div></div></div>
        </div>
       </div>

       <div id=tankSelectBack1><div id=tankSelectBack2><h1 id=tankSelectBackBase></h1></div></div><div id="tankSelectBackButton" onclick="selectingRoleFunction('tank')"></div>
       <div id=tankSelectBack3>
        <div id=tankSecletBack4>
         <div id=justiceTaSelectButton onclick="roleSet('tank','justice')"></img><div class=partySelectHero><img class=partySelectHeroImg src="item/justice_skill1.png"><span class=partySelectHeroName>多層型ヘキサバリア</span><br><div class=partySelectHeroSentence>被ダメージ無効化</div></div></div>
         <div id=jeanneTaSelectButton onclick="roleSet('tank','jeanne')"><div class=partySelectHero><img class=partySelectHeroImg src="item/jeanne.png"><span class=partySelectHeroName>聖女の祝福</span><br><div class=partySelectHeroSentence>HPを<font id=jeanneSkill1status></font>回復</div></div></div>
         <div id=marcosTaSelectButton onclick="roleSet('tank','marcos')"><div class=partySelectHero><img class=partySelectHeroImg src="item/marcos_skill1.png"><span class=partySelectHeroName>スーパーニート</span><br><div class=partySelectHeroSentence>攻撃力を8秒間<font id=marcosSkill1status></font>倍</div></div></div>
        </div>
       </div>


       <div id=partySelectDecision>
        <div class=buttonA>
         <div class=buttonB>決定</div>
        </div>
       </div>
       <div id="partySelectDecisionButton" onclick="checkBeforeBattle(0)"></div>

       <div id=checkBeforeBattleBox>
        <div class=BlackBack></div>
        <div id=checkBeforeBattleQuestion>
         <div class=buttonA>
          <div class=buttonB>バトルを開始します。<br>よろしいですか？</div>
         </div>
        </div>
        <div id=checkBeforeBattleYes>
         <div class=buttonA>
          <div class=buttonB>はい</div>
         </div>
        </div>
        <div id=checkBeforeBattleYesButton onclick="partyClick()"></div>
        <div id=checkBeforeBattleNo>
         <div class=buttonA>
          <div class=buttonB>いいえ</div>
         </div>
        </div>
        <div id=checkBeforeBattleNoButton onclick="checkBeforeBattle(-10)"></div>
       </div>
      </div>

      <h1 id=enemySet>
       <img id=gameBack src="item/試作版ゲーム画面背景.png">
       <img id="mekahanJet" src="item/メカ反ジェット.png">
       <div id=mekahanSet>
        <img id=mekahanHole1 src=item/メカ反ホール.png>
        <img id=mekahanHole2 src=item/メカ反ホール.png>
        <img id=mekahanBody src=item/メカ反遠景.png>
        <img id=mekahanBodyAttack1 src=item/メカ反近景(attack1).png>
        <img id=mekahanBodyAttack2 src=item/メカ反近景(attack2).png>
        <img id=mekahanBodyAttack3 src=item/メカ反近景(attack1).png>
        <img id=mekahanBodyAttack4 src=item/メカ反近景(attack2).png>
        <img id=mekahanHand src=item/メカ反近景.png>
       </div>
       <div id=mekahanEndingSet>
        <img id=mekahanEndingBody src=item/メカ反遠景.png>
        <img id=mekahanEndingHand src=item/メカ反近景.png>
       </div>
       <img id=mekahanEndingExplosion1 src=item/爆発.png>
       <img id=mekahanEndingExplosion2 src=item/爆発.png>
       <img id=mekahanEndingExplosion3 src=item/爆発.png>
       <img id=mekahanNatadecoco1 src=item/メカ反ナタデココ化1.png>
       <img id=mekahanNatadecoco2 src=item/メカ反ナタデココ化2.png>
       <img id=mekahanNatadecoco3 src=item/メカ反ナタデココ化3.png>
       <img id=gameClearScreen src=item/ゲームクリア画面.png>
       <div id=miniMekahanField>
        <img id=miniMekahanA1 src=item/ミニメカ反A.png>
        <img id=miniMekahanB1 src=item/ミニメカ反B.png>
        <img id=miniMekahanA2 src=item/ミニメカ反A.png>
        <img id=miniMekahanB2 src=item/ミニメカ反B.png>
       </div>
      
      </h1>

      <div id="actionGameScreen">
       <img id=gameStartCount3 src="item/ゲーム開始カウント3.png">
       <img id=gameStartCount2 src="item/ゲーム開始カウント2.png">
       <img id=gameStartCount1 src="item/ゲーム開始カウント1.png">
       <img id=gameStartCount0 src="item/ゲーム開始カウントStart.png">
       <div id="field">
        <h1 id="damageHitBase"></h1>
        <h1 id="attackBuffEffect"></h1>
        <h1 id="healBuffEffect"></h1>
        <h1 id="selectedSp"></h1>
       </div>
       <img id=gameFront src="item/試作版ゲーム画面近景.png"">
       <img id=gameButton src="item/試作版ゲーム画面ボタン.png"">
       <div id=cover></div>
       <div id=partySet></div>
       <div id=pushToLeft></div>
       <div id=pushToRight></div>
       <div id=pushAtaBut></div>
       <div id=pushGunBut></div>
       <div id=pushTanBut></div>
       <div id="whiteOut"></div>
       <h1 id="selectedAt"></h1>
       <h1 id="selectedGu"></h1>
       <h1 id="selectedTa"></h1>
       <div id="heroHPbar"></div>
       <div id="enemyHPbar"></div>
       <img id=backDamageEffect src=item/爆発.png>
       <img id="heroHPbarBase" src="item/ヒーローHPバー.png">
       <img id="enemyHPbarBase" src="item/エネミーHPバー.png">
       <h1 id="damageEffectBase"></h1>
       <h1 id="damageEffect"></h1>
       <h1 id="lyricaSkillBulletBase"></h1>
       <h1 id="matoiSkillBulletBase"></h1>
       <img id=gameOverScreen src=item/ゲームオーバー画面.png>
       <div id=toLeft></div>
       <div id=toRight></div>
       <div id=ataBut></div>
       <div id=gunBut></div>
       <div id=tanBut></div>
      </div>

      <div id=clearResultScreen>
       <div class=BlackBack></div>
       <div id=getItemBack>
        <div class=buttonA><div class=buttonB>獲得アイテム</div></div>
       </div>
       <h1 id=getItemBase></h1>
       <div id=getBMBack>
        <div class=buttonA><div class=buttonB>獲得BM:<img src=item/BM.png id=clearResultBM><font id=clearGetBM></font>BM</div></div>
       </div>
       <h1 id=spExperienceBase></h1>
       <h1 id=atExperienceBase></h1>
       <h1 id=guExperienceBase></h1>
       <h1 id=taExperienceBase></h1>
       <h1 id=firstClearBase></h1>

       <div id=clearResultToHome>
        <div class=clearResultToHomeA>
         <div class=clearResultToHomeB>ホームに帰る</div>
        </div>
       </div>
       <div id="clearResultToHomeButton" onclick="toHome()"></div>
      </div>

     </div>
    </div>


  </body>

<style>

:root{
  --baseWidth: 240px;
  --baseHeight:436px;
  --titleButton:1;
  --titleAnima: -60;
  --stageAnima: 40%;
  --stageCliAnimaH: 60%;
  --stageCliAnimaL: 33%;
  --partyDec:1;
  --partyAnima:10.5%;
  --heroHPbar:31%;
  --enemyHPbar:46.5%;
  --damageEffect:5%;
  --mekahanHandSide:10%;
  --mekahanHandLength:52%;
  --mekahanSetSide:16%;
  --mekahanOpacity1:1;
  --mekahanOpacity2:0;
  --mekahanOpacity3:0;
  --mekahanOpacity4:0;
  --mekahanOpacity5:0;
  --mekahanOpacity6:0;
  --mekahanOpacity7:0;
  --mekahanOpacity8:0;
  --mekahanOpacity9:0;
  --miniMekahan1:-1;
  --miniMekahan2:1;
  --miniMekahanSide:17.5%;
  --jet:90%;
  --shift: 0px;
  --direction:-1;
  --mekahanNatadecoco1:0;
  --mekahanNatadecoco2:0;
  --mekahanNatadecoco3:0;
  --gameClearScreen:0;
  --mekahanEndingExplosion1:0;
  --mekahanEndingExplosion2:0;
  --mekahanEndingExplosion3:0;
  --mekahanEndingSet:0;
  --mekahanSet:1;
  --miniMekahanField:1;
  --gameOverScreen:0;
  --whiteOut:0;
  --backDamageEffect:0;
  --homeCorror:#0012ff;
  --homeMenuButton:0;
  --homeFeedBackButton:0;
  --homeHeroButton:0;
  --homeAsistButton:0;
  --homeItemButton:0;
  --homeBattleButton:0;
  --homeCraftButton:0;
  --homeShopButton:0;
  --stageSelectReturnButton:0;
  --level1SelectButton:0;
  --level2SelectButton:0;
  --level3SelectButton:0;
  --stageTitleButton:0;
  --toNextStageButton:0;
  --toPreviousStageButton:0;
  --partySelectReturnButton:0;
  --partySelectDecisionButton:0;
  --sprinterSelectBack:80%;
  --sprinterSelectBackButton:0;
  --attackerSelectBack:0%;
  --attackerSelectBackButton:0;
  --gunnerSelectBack:0%;
  --gunnerSelectBackButton:0;
  --tankSelectBack:0%;
  --tankSelectBackButton:0;
  --atariSpSelectButton:1;
  --voidollSpSelectButton:1;
  --nikolaSpSelectButton:1;
  --nohoAtSelectButton:1;
  --tadaomiAtSelectButton:1;
  --lucianoAtSelectButton:1;
  --lyricaGuSelectButton:1;
  --matoiGuSelectButton:1;
  --justiceTaSelectButton:1;
  --jeanneTaSelectButton:1;
  --marcosTaSelectButton:1;
  --checkBeforeBattleYesButton:0;
  --checkBeforeBattleNoButton:0;
  --checkBeforeBattleBox:0%;
  --pushToLeft:0;
  --pushToRight:0;
  --pushAtaBut:0;
  --pushGunBut:0;
  --pushTanBut:0;
  --gameStartCount3:0;
  --gameStartCount2:0;
  --gameStartCount1:0;
  --gameStartCount0:0;
  --clearResultToHomeButton:0;
}

.shift{
  position:absolute;
  left:var(--shift);
  width: var(--shift);
  transform: scale(var(--direction), 1);
}



body {
  -webkit-touch-callout:none; /* リンク長押しのポップアップを無効化 */
  -webkit-user-select:none; /* テキスト長押しの選択ボックスを無効化 */
}

#base{
position:absolute;
top:0%;
height:100%;
width:99%;
z-index:-100;
}

#titleBase{
position:relative;
height:var(--baseHeight);
width:var(--baseWidth);
display: block;
margin:0 auto;
z-index:-100;
}

#titleBack{
position:absolute;
height:100%;
z-index:-50;
}

#titleStr1{
position:absolute;
height:100%;
z-index:-40;
}

#titleStr2{
position:absolute;
height:100%;
z-index:-10;
animation: titleAni1 1s 0s infinite;
}

@keyframes titleAni1{
0%{
z-index:-10;
}
50%{
z-index:var(--titleAnima);
}
100%{
z-index:-10;
}
}

#titleButton{
position:absolute;
opacity:var(--titleButton);
top:0px;
height:100%;
z-index:-30;
}

#tiBu{
position:absolute;
width:42%;
height:15%;
display: block;
left:28.9%;
top:43%;
}

#homeScreen{
position:absolute;
top:0%;
left:0%;
margin-top:0%;
margin-bottom:0%;
height:100%;
width:100%;
}

#homeBackCoror{
position:absolute;
top:0%;
left:0%;
width:100%;
height:100%;
backGround:var(--homeCorror);
}

#homeBack{
position:absolute;
top:0%;
left:0%;
width:100%;
}



#homeCharacter{
position:absolute;
top:0%;
left:0%;
height:100%;
}

#homeMenuButton{
position:absolute;
opacity:var(--homeMenuButton);
backGround:#ffffff;
left:3%;
top:3.75%;
width:22.7%;
height:10.4%;
}

#homeFeedBackButton{
position:absolute;
opacity:var(--homeFeedBackButton);
backGround:#ffffff;
left:3%;
top:20%;
width:18%;
height:7%;
}

#homeHeroButton{
position:absolute;
opacity:var(--homeHeroButton);
backGround:#ffffff;
left:12.5%;
bottom:6.25%;
width:11.2%;
height:20.4%;
border-radius: 50%;
}

#homeAsistButton{
position:absolute;
opacity:var(--homeAsistButton);
backGround:#ffffff;
left:28.3%;
bottom:6.25%;
width:11.2%;
height:20.4%;
border-radius: 50%;
}

#homeItemButton{
position:absolute;
opacity:var(--homeItemButton);
backGround:#ffffff;
left:44.1%;
bottom:6.25%;
width:11.2%;
height:20.4%;
border-radius: 50%;
}

#homeBattleButton{
position:absolute;
opacity:var(--homeBattleButton);
backGround:#ffffff;
left:73%;
bottom:5%;
width:22.7%;
height:41.3%;
border-radius: 50%;
}

#homeCraftButton{
position:absolute;
opacity:var(--homeCraftButton);
backGround:#ffffff;
right:2.3%;
top:21.7%;
width:22.7%;
height:10.4%;
}

#homeShopButton{
position:absolute;
opacity:var(--homeShopButton);
backGround:#ffffff;
right:2.3%;
top:37%;
width:22.7%;
height:10.4%;
}

.BlackBack{
position:absolute;
opacity:0.8;
top:0%;
left:0%;
height:100%;
width:100%;
backGround:#000000;
}

.selectedStage{
position:absolute;
height:50%;
left:36.2%;
top:18%;
}

#stageSelectReturn{
position:absolute;
top:5%;
left:5%;
width:90%;
height:90%;
border-radius:10%;
font-size:5vh;
text-align: center;
color: #ffffff;
backGround:var(--homeCorror);
}

#stageSelectReturn1{
position:absolute;
top:5%;
left:5%;
width:15%;
height:10%;
border-radius:10%;
backGround:var(--homeCorror);
}

#stageSelectReturn2{
position:absolute;
top:5%;
left:5%;
width:90%;
height:90%;
border-radius:10%;
backGround:#ffffff;
}

#stageSelectReturnButton{
position:absolute;
opacity:var(--stageSelectReturnButton);
top:5%;
left:5%;
width:15%;
height:10%;
border-radius:10%;
backGround:#ffffff;
}

#level1Select1{
position:absolute;
top:70%;
left:25%;
width:15%;
height:25%;
border-radius:10%;
backGround:var(--homeCorror);
}

#level1Select2{
position:absolute;
top:5%;
left:5%;
width:90%;
height:90%;
border-radius:10%;
backGround:#ffffff;
}

#level1Select{
position:absolute;
top:5%;
left:5%;
width:90%;
height:90%;
border-radius:10%;
font-size:5vh;
text-align: center;
color: #ffffff;
backGround:var(--homeCorror);
}

#level1Remuneration{
position:absolute;
bottom:10%;
left:28%;
height:50%;
}

.itemNum{
position:absolute;
opacity:0.8;
bottom:15%;
left:60%;
height:30%;
width:40%;
font-size:3vh;
color:#ffffff;
backGround:var(--homeCorror);
}

#level1SelectButton{
position:absolute;
opacity:var(--level1SelectButton);
top:70%;
left:25%;
width:15%;
height:25%;
backGround:#ffffff;
}

#level2Select1{
position:absolute;
top:70%;
left:41%;
width:15%;
height:25%;
border-radius:10%;
backGround:var(--homeCorror);
}

#level2Select2{
position:absolute;
top:5%;
left:5%;
width:90%;
height:90%;
border-radius:10%;
backGround:#ffffff;
}

#level2Select{
position:absolute;
top:5%;
left:5%;
width:90%;
height:90%;
border-radius:10%;
font-size:5vh;
text-align: center;
color: #ffffff;
backGround:var(--homeCorror);
}

#level2Remuneration{
position:absolute;
bottom:10%;
left:28%;
height:50%;
}

#level2SelectButton{
position:absolute;
opacity:var(--level2SelectButton);
top:70%;
left:41%;
width:15%;
height:25%;
backGround:#ffffff;
}

#level3Select1{
position:absolute;
top:70%;
left:57%;
width:15%;
height:25%;
border-radius:10%;
backGround:var(--homeCorror);
}

#level3Select2{
position:absolute;
top:5%;
left:5%;
width:90%;
height:90%;
border-radius:10%;
backGround:#ffffff;
}

#level3Select{
position:absolute;
top:5%;
left:5%;
width:90%;
height:90%;
border-radius:10%;
font-size:5vh;
text-align: center;
color: #ffffff;
backGround:var(--homeCorror);
}

#level3Remuneration{
position:absolute;
bottom:10%;
left:28%;
height:50%;
}

#level3SelectButton{
position:absolute;
opacity:var(--level3SelectButton);
top:70%;
left:57%;
width:15%;
height:25%;
backGround:#ffffff;
}

#stageTitle1{
position:absolute;
top:5%;
left:30%;
width:40%;
height:10%;
backGround:var(--homeCorror);
}

#stageTitle2{
position:absolute;
top:10%;
left:2.5%;
width:95%;
height:80%;
backGround:#ffffff;
}

#stageTitleBase{
position:absolute;
height:100%;
width:100%;
margin-top:0%;
margin-bottom:0%;
}

#stageTitle{
position:absolute;
top:10%;
left:2.5%;
width:95%;
height:80%;
font-size:5vh;
display: inline-block;
text-align: center;
color: #ffffff;
backGround:var(--homeCorror);
}

#stageTitleButton{
position:absolute;
opacity:var(--stageTitleButton);
top:5%;
left:30%;
width:40%;
height:15%;
backGround:var(--homeCorror);
}

#toNextStage1{
position:absolute;
top:45%;
right:20%;
width:11%;
height:20%;
border-radius:50%;
backGround:#ffffff;
}

#toNextStage2{
position:absolute;
top:5%;
right:5%;
width:90%;
height:90%;
border-radius:50%;
backGround:var(--homeCorror);
}

#toNextStage3{
position:absolute;
top:5%;
right:20%;
top:25%;
height:50%;
}

#toNextStageButton{
position:absolute;
opacity:var(--toNextStageButton);
top:45%;
right:20%;
width:11%;
height:20%;
border-radius:50%;
backGround:#ffffff;
}

#toPreviousStage1{
position:absolute;
transform: scale(-1, 1);
top:45%;
left:20%;
width:11%;
height:20%;
border-radius:50%;
backGround:#ffffff;
}

#toPreviousStage2{
position:absolute;
top:5%;
right:5%;
width:90%;
height:90%;
border-radius:50%;
backGround:var(--homeCorror);
}

#toPreviousStage3{
position:absolute;
top:5%;
right:20%;
top:25%;
height:50%;
}

#toPreviousStageButton{
position:absolute;
opacity:var(--toPreviousStageButton);
transform: scale(-1, 1);
top:45%;
left:20%;
width:11%;
height:20%;
border-radius:50%;
backGround:#ffffff;
}

#partySelectBack{
position:absolute;
opacity:0.8;
top:0%;
left:0%;
height:100%;
width:100%;
backGround:#000000;
}

#partySelectReturn{
position:absolute;
top:5%;
left:5%;
width:90%;
height:90%;
border-radius:10%;
font-size:5vh;
text-align: center;
color: #ffffff;
backGround:var(--homeCorror);
}

#partySelectReturn1{
position:absolute;
top:5%;
left:5%;
width:15%;
height:10%;
border-radius:10%;
backGround:var(--homeCorror);
}

#partySelectReturn2{
position:absolute;
top:5%;
left:5%;
width:90%;
height:90%;
border-radius:10%;
backGround:#ffffff;
}

#partySelectReturnButton{
position:absolute;
opacity:var(--partySelectReturnButton);
top:5%;
left:5%;
width:15%;
height:10%;
border-radius:10%;
backGround:#ffffff;
}

#sprinterSelectBack1{
position:absolute;
top:17%;
left:13%;
width:8.25%;
height:15%;
border-radius:10% 0 0 10%;
backGround:#002eff;
}

#sprinterSelectBack2{
position:absolute;
top:8%;
left:5%;
width:84%;
height:84%;
border-radius:10% 0 0 10%;
backGround:#ffffff;
}

#sprinterSelectBackBase{
position:absolute;
top:8%;
left:8%;
width:84%;
height:84%;
margin-top:0%;
margin-bottom:0%;
font-size:5vh;
text-align: center;
color: #ffffff;
border-radius:10%;
}

#sprinterSelectBack{
width:100%;
}

#sprinterSelectBackButton{
position:absolute;
opacity:var(--sprinterSelectBackButton);
top:17%;
left:13%;
width:8.25%;
height:15%;
border-radius:10% 0 0 10%;
backGround:#ffffff;
}

#sprinterSelectBack3{
position:absolute;
top:10%;
left:21.25%;
width:60%;
height:var(--sprinterSelectBack);
font-size:5vh;
border-radius:10%;
backGround:#002eff;
}

#sprinterSecletBack4{
 position:absolute;
 height:90%;
 width:90%;
 top:5%;
 left:5%;
 overflow:auto;
}

#attackerSelectBack1{
position:absolute;
top:35%;
left:13%;
width:8.25%;
height:15%;
border-radius:10% 0 0 10%;
backGround:#ff0000;
}

#attackerSelectBack2{
position:absolute;
top:8%;
left:5%;
width:84%;
height:84%;
border-radius:10% 0 0 10%;
backGround:#ffffff;
}

#attackerSelectBackBase{
position:absolute;
top:8%;
left:8%;
width:84%;
height:84%;
margin-top:0%;
margin-bottom:0%;
font-size:5vh;
text-align: center;
color: #ffffff;
border-radius:10%;
}

#attackerSelectBack{
width:100%;
}

#attackerSelectBackButton{
position:absolute;
opacity:var(--attackerSelectBackButton);
top:35%;
left:13%;
width:8.25%;
height:15%;
border-radius:10% 0 0 10%;
backGround:#ffffff;
}

#attackerSelectBack3{
position:absolute;
top:10%;
left:21.25%;
width:60%;
height:var(--attackerSelectBack);
font-size:5vh;
border-radius:10%;
backGround:#ff0000;
}

#attackerSecletBack4{
 position:absolute;
 height:90%;
 width:90%;
 top:5%;
 left:5%;
 overflow:auto;
}

#gunnerSelectBack1{
position:absolute;
top:53%;
left:13%;
width:8.25%;
height:15%;
border-radius:10% 0 0 10%;
backGround:#f9ff00;
}

#gunnerSelectBack2{
position:absolute;
top:8%;
left:5%;
width:84%;
height:84%;
border-radius:10% 0 0 10%;
backGround:#ffffff;
}

#gunnerSelectBackBase{
position:absolute;
top:8%;
left:8%;
width:84%;
height:84%;
margin-top:0%;
margin-bottom:0%;
font-size:5vh;
text-align: center;
color: #ffffff;
border-radius:10%;
}

#gunnerSelectBack{
width:100%;
}

#gunnerSelectBackButton{
position:absolute;
opacity:var(--gunnerSelectBackButton);
top:53%;
left:13%;
width:8.25%;
height:15%;
border-radius:10% 0 0 10%;
backGround:#ffffff;
}

#gunnerSelectBack3{
position:absolute;
top:10%;
left:21.25%;
width:60%;
height:var(--gunnerSelectBack);
font-size:5vh;
border-radius:10%;
backGround:#f9ff00;
}

#gunnerSecletBack4{
 position:absolute;
 height:90%;
 width:90%;
 top:5%;
 left:5%;
 overflow:auto;
}

#tankSelectBack1{
position:absolute;
top:71%;
left:13%;
width:8.25%;
height:15%;
border-radius:10% 0 0 10%;
backGround:#00ff27;
}

#tankSelectBack2{
position:absolute;
top:8%;
left:5%;
width:84%;
height:84%;
border-radius:10% 0 0 10%;
backGround:#ffffff;
}

#tankSelectBackBase{
position:absolute;
top:8%;
left:8%;
width:84%;
height:84%;
margin-top:0%;
margin-bottom:0%;
font-size:5vh;
text-align: center;
color: #ffffff;
border-radius:10%;
}

#tankSelectBack{
width:100%;
}

#tankSelectBackButton{
position:absolute;
opacity:var(--tankSelectBackButton);
top:71%;
left:13%;
width:8.25%;
height:15%;
border-radius:10% 0 0 10%;
backGround:#ffffff;
}

#tankSelectBack3{
position:absolute;
top:10%;
left:21.25%;
width:60%;
height:var(--tankSelectBack);
font-size:5vh;
border-radius:10%;
backGround:#00ff27;
}

#tankSecletBack4{
 position:absolute;
 height:90%;
 width:90%;
 top:5%;
 left:5%;
 overflow:auto;
}

.partySelectHero{
width:100%;
height:auto;
}

.partySelectHeroImg{
width:10%;
}

.partySelectHeroName{
position:absolute;
font-size:7vh;
left:10%;
}

.partySelectHeroSentence{
font-size:5vh;
display:inline-block;
}

#atariSpSelectButton{
opacity:var(--atariSpSelectButton);
width:100%;
height:auto;
margin-bottom:5%;
backGround:#ffffff;
}

#voidollSpSelectButton{
opacity:var(--voidollSpSelectButton);
width:100%;
height:auto;
margin-bottom:5%;
backGround:#ffffff;
}

#nikolaSpSelectButton{
opacity:var(--nikolaSpSelectButton);
width:100%;
height:auto;
margin-bottom:5%;
backGround:#ffffff;
}

#nohoAtSelectButton{
opacity:var(--nohoAtSelectButton);
width:100%;
height:auto;
margin-bottom:5%;
backGround:#ffffff;
}

#tadaomiAtSelectButton{
opacity:var(--tadaomiAtSelectButton);
width:100%;
height:auto;
margin-bottom:5%;
backGround:#ffffff;
}

#lucianoAtSelectButton{
opacity:var(--lucianoAtSelectButton);
width:100%;
height:auto;
margin-bottom:5%;
backGround:#ffffff;
}

#lyricaGuSelectButton{
opacity:var(--lyricaGuSelectButton);
width:100%;
height:auto;
margin-bottom:5%;
backGround:#ffffff;
}

#matoiGuSelectButton{
opacity:var(--matoiGuSelectButton);
width:100%;
height:auto;
margin-bottom:5%;
backGround:#ffffff;
}

#justiceTaSelectButton{
opacity:var(--justiceTaSelectButton);
width:100%;
height:auto;
margin-bottom:5%;
backGround:#ffffff;
}

#jeanneTaSelectButton{
opacity:var(--jeanneTaSelectButton);
width:100%;
height:auto;
margin-bottom:5%;
backGround:#ffffff;
}

#marcosTaSelectButton{
opacity:var(--marcosTaSelectButton);
width:100%;
height:auto;
margin-bottom:5%;
backGround:#ffffff;
}

.buttonB{
position:absolute;
bottom:5%;
right:5%;
width:90%;
height:90%;
border-radius:10%;
font-size:5vh;
text-align: center;
color: #ffffff;
backGround:var(--homeCorror);
}

#partySelectDecision{
position:absolute;
bottom:5%;
right:3%;
width:15%;
height:10%;
border-radius:10%;
backGround:var(--homeCorror);
}

.buttonA{
position:absolute;
top:5%;
left:5%;
width:90%;
height:90%;
border-radius:10%;
backGround:#ffffff;
}

#partySelectDecisionButton{
position:absolute;
opacity:var(--partySelectDecisionButton);
bottom:5%;
right:3%;
width:15%;
height:10%;
border-radius:10%;
backGround:#ffffff;
}

#checkBeforeBattleQuestion{
position:absolute;
top:20%;
left:20%;
width:60%;
height:60%;
border-radius:10%;
backGround:var(--homeCorror);
}

#checkBeforeBattleYes{
position:absolute;
top:60%;
left:30%;
width:15%;
height:10%;
border-radius:10%;
backGround:var(--homeCorror);
}

#checkBeforeBattleYesButton{
position:absolute;
opacity:var(--checkBeforeBattleYesButton);
top:60%;
left:30%;
width:15%;
height:10%;
border-radius:10%;
backGround:#ffffff;
}

#checkBeforeBattleNo{
position:absolute;
top:60%;
right:30%;
width:15%;
height:10%;
border-radius:10%;
backGround:var(--homeCorror);
}

#checkBeforeBattleNoButton{
position:absolute;
opacity:var(--checkBeforeBattleNoButton);
top:60%;
right:30%;
width:15%;
height:10%;
border-radius:10%;
backGround:#ffffff;
}

#checkBeforeBattleBox{
position:absolute;
width:100%;
height:100%;
z-index:-60;
}

#gameStartCount3{
opacity:var(--gameStartCount3);
position:absolute;
left:0%;
top:0%;
width:100%;
height:100%;
}

#gameStartCount2{
opacity:var(--gameStartCount2);
position:absolute;
left:0%;
top:0%;
width:100%;
height:100%;
}

#gameStartCount1{
opacity:var(--gameStartCount1);
position:absolute;
left:0%;
top:0%;
width:100%;
height:100%;
}


#gameStartCount0{
opacity:var(--gameStartCount0);
position:absolute;
left:0%;
top:0%;
width:100%;
height:100%;
}

#clearResultScreen{
position:absolute;
top:0%;
left:0%;
height:100%;
width:100%;
z-index:-60;
}

#getItemBack{
position:absolute;
top:2%;
left:30%;
height:10%;
width:40%;
}

#getBMBack{
position:absolute;
top:33%;
left:30%;
height:10%;
width:40%;
}

#clearResultBM{
 top:30%;
 height:5vh;
}

#getItemBase{
position:absolute;
top:15%;
left:45.85%;
height:15%;
width:8.25%;
margin-top:0%;
margin-botton:0%;
}

#firstClearBase{
position:absolute;
bottom:2%;
left:30%;
height:30%;
width:40%;
margin-top:0%;
margin-bottom:0%;
}

#firstClear{
position:absolute;
top:0%;
left:0%;
height:100%;
width:100%;
}

#firstClearImg{
position:relative;
top:0%;
margin:0 auto;
height:50%;
}

#spExperienceBase{
position:absolute;
top:45%;
right:71%;
height:20%;
width:18%;
margin-top:0%;
margin-bottom:0%;
backGround:var(--homeCorror);
}

#atExperienceBase{
position:absolute;
top:45%;
right:51%;
height:20%;
width:18%;
margin-top:0%;
margin-bottom:0%;
backGround:var(--homeCorror);
}

#guExperienceBase{
position:absolute;
top:45%;
left:51%;
height:20%;
width:18%;
margin-top:0%;
margin-bottom:0%;
backGround:var(--homeCorror);
}

#taExperienceBase{
position:absolute;
top:45%;
left:71%;
height:20%;
width:18%;
margin-top:0%;
margin-bottom:0%;
backGround:var(--homeCorror);
}

.experienceResult1{
position:absolute;
left:35%;
width:30%;
}

.experienceResult2{
position:absolute;
bottom:0%;
width:100%;
font-size:5vh;
text-align: center;
color: #ffffff;
backGround:var(--homeCorror);
}

#clearResultToHome{
position:absolute;
bottom:5%;
right:3%;
width:25%;
height:10%;
border-radius:10%;
backGround:#ffffff;
}

#clearResultToHomeButton{
position:absolute;
opacity:var(--clearResultToHomeButton);
bottom:5%;
right:3%;
width:25%;
height:10%;
border-radius:10%;
backGround:#ffffff;
}

.clearResultToHomeB{
position:absolute;
bottom:5%;
right:5%;
width:90%;
height:90%;
border-radius:10%;
font-size:5vh;
text-align: center;
color: var(--homeCorror);
backGround:#ffffff;
}

.clearResultToHomeA{
position:absolute;
top:5%;
left:5%;
width:90%;
height:90%;
border-radius:10%;
backGround:var(--homeCorror);
}

#stageBack{
position:absolute;
height:100%;
}

#stage1{
position:absolute;
top:35%;
height:30%;
left:15%;
}

#stage2{
position:absolute;
top:30%;
height:40%;
left:40%;
animation: staAni 1s 0s infinite;
}

@keyframes staAni{
0%{
left:39%;
height:39%;
}
50%{
height:var(--stageAnima);
left:var(--stageAnima);
}
100%{
left:39%;
height:39%;
}
}

#stage3{
position:absolute;
top:35%;
height:30%;
left:75%;
}

#stage2a{
position:absolute;
top:30%;
height:40%;
left:40%;
}

.staAni{
animation: staCliAni 1s 0s 1;
animation-fill-mode:forwards;
}

@keyframes staCliAni{
0%{
left:39%;
height:39%;
}
100%{
height:var(--stageCliAnimaH);
left:var(--stageCliAnimaL);
}
}

#stageSelectScreen{
position:absolute;
height:100%;
width:100%;
z-index:-60;
}

#partyBack{
position:absolute;
height:100%;
z-index:-60;
}

#partySelect{
position:absolute;
height:80%;
top:20%;
width:90%;
left:5%;
z-index:-60;
}

.selectBack{
position:relative;
height:10%;
margin-top:3%;
background:#8da4c4;
}

.party{
position:relative;
height:100%;
padding-left:5%;
}

#partyDec{
position:absolute;
opacity:var(--partyDec);
top:85%;
right:2%;
height:10%;
animation: partyAni1 2s 0s infinite;
z-index:-60;
}

@keyframes partyAni1{
0%{
height:10%;
}
50%{
height:var(--partyAnima);
}
100%{
height:10%;
}
}

#partySelectScreen{
position:absolute;
top:0%;
left:0%;
height:100%;
width:100%;
z-index:-60;
}

#gameBack{
position:absolute;
height:100%;
top:0%;
z-index:-60;
}

#gameFront{
position:absolute;
height:100%;
top:0%;
z-index:-60;
}

#gameButton{
position:absolute;
height:100%;
top:0%;
z-index:-60;
}

#cover{
position:absolute;
height:100%;
width:100%;
top:0%;
z-index:-60;
}

#toLeft{
position:absolute;
top:0%;
left:0%;
width:8%;
height:100%;
}

#toRight{
position:absolute;
top:0%;
left:8%;
width:8%;
height:100%;
}

#ataBut{
position:absolute;
top:0%;
right:0%;
width:16%;
height:33%;
}

#gunBut{
position:absolute;
top:33%;
right:0%;
width:16%;
height:34%;
}

#tanBut{
position:absolute;
top:67%;
right:0%;
width:16%;
height:33%;
}

#pushToLeft{
position:absolute;
opacity:var(--pushToLeft);
top:0%;
left:0%;
width:8%;
height:100%;
background:#000000;
}

#pushToRight{
position:absolute;
opacity:var(--pushToRight);
top:0%;
left:8%;
width:8%;
height:100%;
background:#000000;
}

#pushAtaBut{
position:absolute;
opacity:var(--pushAtaBut);
top:0%;
right:0%;
width:16%;
height:33%;
background:#000000;
}

#pushGunBut{
position:absolute;
opacity:var(--pushGunBut);
top:33%;
right:0%;
width:16%;
height:34%;
background:#000000;
}

#pushTanBut{
position:absolute;
opacity:var(--pushTanBut);
top:67%;
right:0%;
width:16%;
height:33%;
background:#000000;
}


#field{
position:relative;
width:68%;
height:77%;
width:68%;
left:16%;
top:0%;
margin-top:0px;
margin-bottom:0px;
}

#selectedSp{
position:absolute;
width:10%;
height:100%;
margin-top:0px;
margin-bottom:0px;
z-index:-60;
}

#selectedAt{
position:absolute;
top:0%;
right:0%;
width:16%;
height:33%;
margin:0 auto;
z-index:-60;
}

#selectedGu{
position:absolute;
top:33%;
right:0%;
width:16%;
height:33%;
margin:0 auto;
z-index:-60;
}

#selectedTa{
position:absolute;
top:67%;
right:0%;
width:16%;
height:33%;
margin-top:0;
margin-bottom:0;
z-index:-60;
}

#spDef{
position:absolute;
bottom:0%;
width:100%;
left:var(--positon)%;
z-index:20;
}

#atDef{
position:absolute;
transform: scale(-1, 1);
width:80%;
margin:0 auto;
z-index:-60;
}

#guDef{
position:absolute;
transform: scale(-1, 1);
width:80%;
margin:0 auto;
z-index:-60;
}

#taDef{
position:absolute;
transform: scale(-1, 1);
width:80%;
margin:0 auto;
z-index:-60;
}

/*メカ反Start*/

#mekahanSet{
position:absolute;
opacity:var(--mekahanSet);
overflow:hidden;
top:0%;
width:68%;
height:100%;
display: block;
left:var(--mekahanSetSide);
z-index:-60;
}
#mekahanBody{
position:absolute;
opacity:var(--mekahanOpacity1);
left:18%;
height:100%;
top:0%;
}
#mekahanHand{
position:absolute;
opacity:var(--mekahanOpacity1);
width:80%;
left:var(--mekahanHandSide);
top:var(--mekahanHandLength);
}
#mekahanBodyAttack1{
position:absolute;
opacity:var(--mekahanOpacity2);
left:-7%;
width:100%;
top:-15%;
}
#mekahanBodyAttack2{
position:absolute;
opacity:var(--mekahanOpacity3);
left:-7%;
width:100%;
top:78%;
}
#mekahanBodyAttack3{
position:absolute;
opacity:var(--mekahanOpacity5);
right:-7%;
width:100%;
top:-15%;
}
#mekahanBodyAttack4{
position:absolute;
opacity:var(--mekahanOpacity6);
right:-7%;
width:100%;
top:78%;
}
#mekahanJet{
position:absolute;
opacity:var(--mekahanOpacity4);
overflow:hidden;
left:0%;
top:0%;
height:100%;
z-index:-60;
}
.mekahanAttack1{
animation: mekahanAttack1 3s 0s 1;
animation-fill-mode:forwards;
}
@keyframes mekahanAttack1{
0%{
left:18%;
}
5%{
left:9%;
}
69%{
left:9%;
}
100%{
left:18%;
}
}
.mekahanHandAttack1{
animation: mekahanHandAttack1 3s 0s 1;
animation-fill-mode:forwards;
}
@keyframes mekahanHandAttack1{
0%{
top:52%;
left:10%;
}
5%{
top:52%;
left:0%;
}
32%{
top:45%;
left:0%;
}
34%{
top:63%;
left:0%;
}
67%{
top:63%;
left:0%;
}
69%{
top:52%;
left:0%;
}
100%{
top:52%;
left:10%;
}
}
.mekahanAttack2{
animation: mekahanAttack2 3s 0s 1;
animation-fill-mode:forwards;
}
@keyframes mekahanAttack2{
0%{
left:18%;
}
5%{
left:27%;
}
69%{
left:27%;
}
100%{
left:18%;
}
}
.mekahanHandAttack2{
animation: mekahanHandAttack2 3s 0s 1;
animation-fill-mode:forwards;
}

@keyframes mekahanHandAttack2{
0%{
top:52%;
left:10%;
}
5%{
top:52%;
left:20%;
}
32%{
top:45%;
left:20%;
}
34%{
top:63%;
left:20%;
}
67%{
top:63%;
left:20%;
}
69%{
top:52%;
left:20%;
}
100%{
top:52%;
left:10%;
}
}
.mekahanAttack3{
animation: mekahanAttack3 10s 0s 1;
animation-fill-mode:backwards;
animation-timing-function: linear;
}

@keyframes mekahanAttack3{
0%{
top:0%;
}
20%{
top:-112.5%;
}
25%{
top:-70%;
}
40%{
top:-70%;
}
45%{
top:0%;
}
60%{
top:0%;
}
80%{
top:-112.5%;
}
100%{
top:0%;
}
}
.mekahanAttackJet{
animation: mekahanAttackJet 10s 0s 1;
animation-fill-mode:backwards;
animation-timing-function: linear;
}
@keyframes mekahanAttackJet{
0%{
top:0%;
}
2%{
top:0%;
}
20%{
top:-100%;
}
80%{
top:-100%;
}
98%{
top:0%;
}
}
.mekahanAttack5{
animation: mekahanAttack5 5s 0s 1;
animation-fill-mode:backwards;
animation-timing-function: linear;
}
@keyframes mekahanAttack5{
0%{
opacity:0;
}
20%{
opacity:1;
}
80%{
opacity:1;
}
100%{
opacity:0;
}
}
.mekahanAttack6{
animation: mekahanAttack6 3s 0s 1;
animation-fill-mode:forwards;
animation-timing-function: linear;
}
@keyframes mekahanAttack6{
0%{
opacity:0;
bottom:18.5%;
}
33%{
opacity:1;
bottom:18.5%;
}
67%{
opacity:1;
bottom:0%;
}
99%{
opacity:1;
bottom:0%;
}
100%{
opacity:0;
bottom:0%;
}
}
.mekahanAttack7{
animation: mekahanAttack7 1s 0s 1;
animation-fill-mode:forwards;
animation-timing-function: linear;
}
@keyframes mekahanAttack7{
0%{
opacity:1;
}
100%{
opacity:0;
}
}
#mekahanHole1{
position:absolute;
left:16%;
top:54%;
height:10%;
opacity:var(--mekahanOpacity7);
}
#mekahanHole2{
position:absolute;
right:16%;
top:54%;
height:10%;
opacity:var(--mekahanOpacity7);
}
#miniMekahanField{
opacity:var(--miniMekahanField);
position:absolute;
width:68%;
height:77%;
top:0%;
left:16%;
z-index:-60;
}
#miniMekahanA1{
position:absolute;
opacity:0;
width:5%;
bottom:18.5%;
left:17.5%;
}
#miniMekahanA2{
position:absolute;
opacity:0;
width:5%;
bottom:18.5%;
right:17.5%;
}
#miniMekahanB1{
position:absolute;
transform: scale(var(--miniMekahan1), 1);
opacity:var(--mekahanOpacity8);
width:5%;
bottom:0%;
left:var(--miniMekahanSide);
}
#miniMekahanB2{
position:absolute;
transform: scale(var(--miniMekahan2), 1);
opacity:var(--mekahanOpacity8);
width:5%;
bottom:0%;
right:var(--miniMekahanSide);
}
#mekahanEndingSet{
position:absolute;
opacity:var(--mekahanEndingSet);
overflow:hidden;
top:0%;
width:68%;
height:100%;
display: block;
left:16%;
}
#mekahanEndingBody{
position:absolute;
left:18%;
height:100%;
top:0%;
}
#mekahanEndingHand{
position:absolute;
width:80%;
left:10%;
top:52%;
}
#mekahanEndingExplosion1{
position:absolute;
opacity:var(--mekahanEndingExplosion1);
top:25%;
left:40%;
height:20%;
}
#mekahanEndingExplosion2{
position:absolute;
opacity:var(--mekahanEndingExplosion2);
top:45%;
left:60%;
height:15%;
}
#mekahanEndingExplosion3{
position:absolute;
opacity:var(--mekahanEndingExplosion3);
top:60%;
left:35%;
height:25%;
}
#mekahanNatadecoco1{
position:absolute;
opacity:var(--mekahanNatadecoco1);
top:0%;
left:0%;
height:100%;
}
#mekahanNatadecoco2{
position:absolute;
opacity:var(--mekahanNatadecoco2);
top:0%;
left:0%;
height:100%;
}
#mekahanNatadecoco3{
position:absolute;
opacity:var(--mekahanNatadecoco3);
top:0%;
left:0%;
height:100%;
}

/*メカ反End*/

#lyricaSkillBulletBase{
position:absolute;
top:0%;
height:100%;
width:68%;
left:16%;
margin-top:0%;
margin-bottom:0%;
z-index:-60;
}
#lyricaSkillBullet{
position:absolute;
left:var(--shift);
bottom:22.9%;
height:6.25%;
width:5%;
background:#e942df;
}
.lyricaSkill1{
animation: lyricaSkill1 0.5s 0s 1;
animation-fill-mode:forwards;
}
@keyframes lyricaSkill1{
0%{
left:var(--shift);
bottom:22.9%;
height:6.25%;
width:5%;
background:#e942df;
}
100%{
left:50%;
bottom:50%;
height:0%;
width:0%;
}
}
#matoiSkillBulletBase{
position:absolute;
top:0%;
height:100%;
width:68%;
left:16%;
margin-top:0%;
margin-bottom:0%;
z-index:-60;
}
#matoiSkillBullet{
position:absolute;
left:var(--shift);
bottom:22.9%;
height:6.25%;
width:5%;
background:#424242;
}
.matoiSkill1{
animation: matoiSkill1 2s 0s 1;
animation-fill-mode:forwards;
}
@keyframes matoiSkill1{
0%{
left:var(--shift);
bottom:22.9%;
height:6.25%;
width:5%;
}
50%{
bottom:80%;
}
100%{
left:50%;
bottom:50%;
height:0%;
width:0%;
}
}
.getDamage{
background:#d00000;
opacity:0.8;
}

#damageHitBase{
position:absolute;
top:0%;
height:100%;
width:100%;
margin-top:0%;
margin-bottom:0%;
}

#damageHit{
position:absolute;
left:var(--shift);
bottom:0%;
height:16%;
width:9.9%;
background:#d00000;
opacity:0.8;
}

#heroHPbarBase{
position:absolute;
left:17.2%;
bottom:3.3%;
height:8.3%;
z-index:-60;
}

#heroHPbar{
position:absolute;
left:22.9%;
bottom:4.6%;
width:var(--heroHPbar);
height:5.8%;
background:#00ff5e;
z-index:-60;
}

#enemyHPbarBase{
position:absolute;
left:21.3%;
top:1.7%;
width:61.9%;
z-index:-60;
}

#enemyHPbar{
position:absolute;
top:2.9%;
left:35.55%;
height:5.8%;
width:var(--enemyHPbar);
background:#ff1a1a;
z-index:-60;
}

#damageEffectBase{
position:absolute;
top:0%;
left:16%;
height:100%;
width:68%;
margin-top:0%;
margin-bottom:0%;
z-index:-60;
}

#damageEffect{
position:absolute;
left:var(--damageEffect);
bottom:22.9%;
height:12.5%;
}

#backDamageEffect{
position:absolute;
opacity:var(--backDamageEffect);
height:12.5%;
top:43.75%;
left:46.56%;
z-index:-60;
}

#attackBuffEffect{
position:absolute;
bottom:0%;
height:12.5%;
left:var(--shift);
opacity:1;
}

#healBuffEffect{
position:absolute;
bottom:0%;
height:12.5%;
left:var(--shift);
opacity:1;
}

#whiteOut{
position:absolute;
opacity:var(--whiteOut);
width:68%;
height:100%;
top:0%;
left:16%;
z-index:-60;
background:#ffffff;
}

#gameOverScreen{
position:absolute;
opacity:var(--gameOverScreen);
top:0%;
left:0%;
width:100%;
z-index:-60;
}

#gameClearScreen{
position:absolute;
opacity:var(--gameClearScreen);
top:0%;
left:0%;
height:100%;
}

#actionGameScreen{
position:absolute;
top:0%;
left:0%;
height:100%;
width:100%;
z-index:-60;
}

#enemySet{
position:absolute;
top:0%;
left:0%;
margin-top:0%;
margin-bottom:0%;
height:100%;
width:100%;
z-index:-60;
}


</style>

<script>

phase=0;
spSet=0;
rightOn=0;
leftOn=0;
attackerOn=0;
gunnerOn=0;
tankOn=0;
walk=0;
sidePosiN=0;
guard=0;
direction=1;
skillHold=0;
SkillCheck=0;
NowScreen="home";
stageLevel=1;
SelectedStage="mekahan";
selectingRole="sprinter";
spSet="atari";
atSet="noho";
guSet="lyrica";
taSet="justice";
nikola=0;
atariLevel=1;
atariExperience=0;
justiceLevel=1;
justiceExperience=0;
lyricaLevel=1;
lyricaExperience=0;
nohoLevel=1;
nohoExperience=0;
tadaomiLevel=1;
tadaomiExperience=0;
jeanneLevel=1;
jeanneExperience=0;
marcosLevel=1;
marcosExperience=0;
lucianoLevel=1;
lucianoExperience=0;
voidollLevel=1;
nikolaLevel=1;
voidollExperience=0;
nikolaExperience=0;
matoiLevel=1;
matoiExperience=0;

enemyFront=[];
enemyBack=0;

attackBuff=1;
tankKeep=0;

mekahanAct1=0;
mekahanAct2=0;


levelBorder=-10;

mekahanSpan1=0;
mekahanSpan2=0;
mekahanSpan3=0;
mekahanSpan4=0;
mekahanSpan5=0;
miniMekahanLife1=0;
miniMekahanLife2=0;

window.addEventListener('load', (event) => {

// ブラウザのウインドウサイズを取得する
var windowH = window.innerHeight*0.95;

windowW=windowH*1.817;
windowW=String(windowW);
var px = 'px';
windowW = windowW.concat(px);
document.documentElement.style.setProperty('--baseWidth', windowW);
windowH=String(windowH);
windowH = windowH.concat(px);
document.documentElement.style.setProperty('--baseHeight', windowH);
console.log(windowW);
console.log(windowH);
sidePosi=0;
skill=0;
});



function titleClick(){
  document.documentElement.style.setProperty('--titleAnima', "-10");
  const rootTitleButton = document.querySelector(':root');
  rootTitleButton.style.setProperty("--titleButton", "0");
  setTimeout(function(){
   rootTitleButton.style.setProperty("--titleButton", "1");
  },200);
  setTimeout(function(){
   rootTitleButton.style.setProperty("--titleButton", "0");
  },400);
  setTimeout(function(){
   rootTitleButton.style.setProperty("--titleButton", "1");
  },600);
  setTimeout(function(){
   rootTitleButton.style.setProperty("--titleButton", "0");
  },800);
  setTimeout(function(){
   rootTitleButton.style.setProperty("--titleButton", "1");
  },1000);
  setTimeout(function(){
   titleScreen.style.zIndex=-60;
   stageSelectScreen.style.zIndex=0;
  },1200);  
}

function toStageSelect(){
 NowScreen="stageSelect";
 homeScreen.style.zIndex= -10;
 partySelectScreen.style.zIndex=-60;
 stageSelectScreen.style.zIndex=0;
 if(SelectedStage=="mekahan"){
  var myhMekahanSelect = document.getElementById("stageTitleBase");
  myhMekahanSelect.innerHTML = "<div id=stageTitle>とある家庭用メカの反乱</div>";
 }
}

function toHome(){
 NowScreen="home";
 stageSelectScreen.style.zIndex=-60;
 partySelectScreen.style.zIndex=-60;
 enemySet.style.zIndex=-60;
 actionGameScreen.style.zIndex=-60;
 clearResultScreen.style.zIndex=-60;
 homeScreen.style.zIndex=0;
}

function selectingRoleFunction(nowRole){
 selectingRole=nowRole;
 if(nowRole=="sprinter"){
  document.documentElement.style.setProperty('--sprinterSelectBack', "80%");
  document.documentElement.style.setProperty('--attackerSelectBack', "0%");
  document.documentElement.style.setProperty('--gunnerSelectBack', "0%");
  document.documentElement.style.setProperty('--tankSelectBack', "0%");
 }
 else if(nowRole=="attacker"){
  document.documentElement.style.setProperty('--sprinterSelectBack', "0%");
  document.documentElement.style.setProperty('--attackerSelectBack', "80%");
  document.documentElement.style.setProperty('--gunnerSelectBack', "0%");
  document.documentElement.style.setProperty('--tankSelectBack', "0%");
 }
 else if(nowRole=="gunner"){
  document.documentElement.style.setProperty('--sprinterSelectBack', "0%");
  document.documentElement.style.setProperty('--attackerSelectBack', "0%");
  document.documentElement.style.setProperty('--gunnerSelectBack', "80%");
  document.documentElement.style.setProperty('--tankSelectBack', "0%");
 }
 else if(nowRole=="tank"){
  document.documentElement.style.setProperty('--sprinterSelectBack', "0%");
  document.documentElement.style.setProperty('--attackerSelectBack', "0%");
  document.documentElement.style.setProperty('--gunnerSelectBack', "0%");
  document.documentElement.style.setProperty('--tankSelectBack', "80%");
 }
}

function levelSelect(selectedLevel){
 stageLevel=selectedLevel;
 stageSelectScreen.style.zIndex=-60;
 partySelectScreen.style.zIndex=0;
 checkBeforeBattle(-60);
 heroSkillStatus();
 partySelectSet();
}



function roleSet(role,heroOrSkill){
 if(role=="sprinter"){
  spSet=heroOrSkill;
 }
 else if(role=="attacker"){
  atSet=heroOrSkill;
 }
 else if(role=="gunner"){
  guSet=heroOrSkill;
 }
 else if(role=="tank"){
  taSet=heroOrSkill;
 }
 partySelectSet();
}

function checkBeforeBattle(checkBeforeBattleBoxNum){
 checkBeforeBattleBox.style.zIndex=checkBeforeBattleBoxNum;
}

function heroSkillStatus(){

  heroHP=100+(10*(atariLevel-1));
  var elem = document.getElementById("atariHP");
  elem.innerHTML = heroHP;
  heroAttackStatus=1+(0.1*(atariLevel-1));
  var elem = document.getElementById("atariAttackStatus");
  elem.innerHTML = heroAttackStatus;

  heroHP=120+(10*(voidollLevel-1));
  var elem = document.getElementById("voidollHP");
  elem.innerHTML = heroHP;
  heroAttackStatus=0.8+(0.1*(voidollLevel-1));
  var elem = document.getElementById("voidollAttackStatus");
  elem.innerHTML = heroAttackStatus;

  nohoSkill1status=5+(1*(nohoLevel-1));
  var elem = document.getElementById("nohoSkill1status");
  elem.innerHTML = nohoSkill1status;

  tadaomiSkill1status=30+(5*(tadaomiLevel-1));
  var elem = document.getElementById("tadaomiSkill1status");
  elem.innerHTML = tadaomiSkill1status;

  lucianoSkill1status=20+(5*(lucianoLevel-1));
  var elem = document.getElementById("lucianoSkill1status");
  elem.innerHTML = lucianoSkill1status;


  lyricaSkill1status=10+(2*(lyricaLevel-1));
  var elem = document.getElementById("lyricaSkill1status");
  elem.innerHTML = lyricaSkill1status;

  matoiSkill1status=30+(6*(matoiLevel-1));
  var elem = document.getElementById("matoiSkill1status");
  elem.innerHTML = matoiSkill1status;

  jeanneSkill1status=10+(2*(jeanneLevel-1));
  var elem = document.getElementById("jeanneSkill1status");
  elem.innerHTML = jeanneSkill1status;

  marcosSkill1status=1.5+(0.1*(marcosLevel-1));
  var elem = document.getElementById("marcosSkill1status");
  elem.innerHTML = marcosSkill1status;

  if(nikola==1){
   var myh = document.getElementById("nikolaSpSelectButtonBase");
   myh.innerHTML = "<div id=nikolaSpSelectButton onclick=roleSet('sprinter','nikola')><div class=partySelectHero><img class=partySelectHeroImg src=item/nikola.png><span class=partySelectHeroName>二コラ　テスラ</span><br><div class=partySelectHeroSentence>体力:<font id=nikolaHP></font>　攻撃倍率:<font id=nikolaAttackStatus></font></div></div></div>";
  heroHP=120+(10*(nikolaLevel-1));
  var elem = document.getElementById("nikolaHP");
  elem.innerHTML = heroHP;
  heroAttackStatus=0.8+(0.1*(nikolaLevel-1));
  var elem = document.getElementById("nikolaAttackStatus");
  elem.innerHTML = heroAttackStatus;
var elem = document.getElementById("nikolaSpSelectButton");
elem.addEventListener("mouseover", function (event) {
 document.documentElement.style.setProperty('--nikolaSpSelectButton', "0.2");
}, false);
var elem = document.getElementById("nikolaSpSelectButton");
elem.addEventListener("mouseout", function (event) {
 document.documentElement.style.setProperty('--nikolaSpSelectButton', "1");
}, false);

 document.getElementById("nikolaSpSelectButton").addEventListener('touchstart', nikolaSpSelectButtonOn);
 document.getElementById("nikolaSpSelectButton").addEventListener('touchend', nikolaSpSelectButtonOff);
  }



}

function partySelectSet(){
 if(spSet=="atari"){
  var myhAtariSelect = document.getElementById("sprinterSelectBackBase");
  myhAtariSelect.innerHTML = "<img id=sprinterSelectBack src=item/atari.png>";
  heroHP=100+(10*(atariLevel-1));
  heroAttackStatus=1+(0.1*(atariLevel-1));
 }
 else if(spSet=="voidoll"){
  var myhAtariSelect = document.getElementById("sprinterSelectBackBase");
  myhAtariSelect.innerHTML = "<img id=sprinterSelectBack src=item/voidoll.png>";
  heroHP=120+(10*(voidollLevel-1));
  heroAttackStatus=0.8+(0.1*(voidollLevel-1));
 }
 else if(spSet=="nikola"){
  var myhNikolaSelect = document.getElementById("sprinterSelectBackBase");
  myhNikolaSelect.innerHTML = "<img id=sprinterSelectBack src=item/nikola.png>";
  heroHP=120+(10*(nikolaLevel-1));
  heroAttackStatus=0.8+(0.1*(nikolaLevel-1));
 }

 if(atSet=="noho"){
  var myh = document.getElementById("attackerSelectBackBase");
  myh.innerHTML = "<img id=sprinterSelectBack src=item/noho_skill1.png>";
 }
 else if(atSet=="tadaomi"){
  var myh = document.getElementById("attackerSelectBackBase");
  myh.innerHTML = "<img id=sprinterSelectBack src=item/tadaomi_skill1.png>";
 }
 else if(atSet=="luciano"){
  var myh = document.getElementById("attackerSelectBackBase");
  myh.innerHTML = "<img id=sprinterSelectBack src=item/luciano_skill1.png>";
 }

 if(guSet=="lyrica"){
  var myh = document.getElementById("gunnerSelectBackBase");
  myh.innerHTML = "<img id=gunnerSelectBack src=item/lyrica.png>";
 }
 else if(guSet=="matoi"){
  var myh = document.getElementById("gunnerSelectBackBase");
  myh.innerHTML = "<img id=tankSelectBack src=item/matoi.png>";
 }

 if(taSet=="justice"){
  var myh = document.getElementById("tankSelectBackBase");
  myh.innerHTML = "<img id=tankSelectBack src=item/justice_skill1.png>";
 }
 else if(taSet=="jeanne"){
  var myh = document.getElementById("tankSelectBackBase");
  myh.innerHTML = "<img id=tankSelectBack src=item/jeanne.png>";
 }
 else if(taSet=="marcos"){
  var myh = document.getElementById("tankSelectBackBase");
  myh.innerHTML = "<img id=tankSelectBack src=item/marcos_skill1.png>";
 }
}

function stageClick(){
 setTimeout(function(){
  setTimeout(function(){
   stageSelectScreen.style.zIndex=-60;
   partySelectScreen.style.zIndex=0;
  },2000); 
 },1000); 
}


function partyClick(){
 document.documentElement.style.setProperty('--gameClearScreen', "0");
 homeScreen.style.zIndex=-60;
 stageSelectScreen.style.zIndex=-60;
 partySelectScreen.style.zIndex=-60;
 enemySet.style.zIndex=0;
 actionGameScreen.style.zIndex=0;
 clearResultScreen.style.zIndex=-60;
 ataBut.style.zIndex=40;
 gunBut.style.zIndex=40;
 tanBut.style.zIndex=40;
 toRight.style.zIndex=40;
 toLeft.style.zIndex=40;
 partySet();
 document.documentElement.style.setProperty('--gameStartCount3', "0.5");
 setTimeout(function(){
  document.documentElement.style.setProperty('--gameStartCount3', "0");
  document.documentElement.style.setProperty('--gameStartCount2', "0.5");
  setTimeout(function(){
   document.documentElement.style.setProperty('--gameStartCount2', "0");
   document.documentElement.style.setProperty('--gameStartCount1', "0.5");
    setTimeout(function(){
     document.documentElement.style.setProperty('--gameStartCount1', "0");
     document.documentElement.style.setProperty('--gameStartCount0', "0.5");
     mekahanBattleStart();
     phase=1;
     setTimeout(function(){
      document.documentElement.style.setProperty('--gameStartCount0', "0");
     },1000);
    },1000);
   },1000);
  },1000);
}


function partySet(){
 defaultHeroHP=heroHP;
 heroHPbarBase.style.zIndex = 10;
 heroHPbar.style.zIndex = 15;
 enemyHPbarBase.style.zIndex = 10;
 enemyHPbar.style.zIndex = 15;
 const sprSet = document.getElementById(partySet);
 console.log(spSet);
 selectedSp.style.zIndex = 20;
 selectedAt.style.zIndex = 20;
 selectedGu.style.zIndex = 20;
 selectedTa.style.zIndex = 20;

 if(spSet=="atari"){
        var myh1 = document.getElementById("selectedSp");
        myh1.innerHTML = "<img id=spDef src=item/atari.png>";
 }
 else if(spSet=="voidoll"){
        var myh1 = document.getElementById("selectedSp");
        myh1.innerHTML = "<img id=spDef src=item/voidoll.png>";
 }
 else if(spSet=="nikola"){
        var myh1 = document.getElementById("selectedSp");
        myh1.innerHTML = "<img id=spDef src=item/nikola.png>";
 }

 if(atSet=="noho"){
        var myh2 = document.getElementById("selectedAt");
        myh2.innerHTML = "<img id=atDef src=item/noho_skill1.png>";
 }
 else if(atSet=="tadaomi"){
        var myh2 = document.getElementById("selectedAt");
        myh2.innerHTML = "<img id=atDef src=item/tadaomi_skill1.png>";
 }
 else if(atSet=="luciano"){
        var myh2 = document.getElementById("selectedAt");
        myh2.innerHTML = "<img id=atDef src=item/luciano_skill1.png>";
 }

 if(guSet=="lyrica"){
        var myh3 = document.getElementById("selectedGu");
        myh3.innerHTML = "<img id=guDef src=item/lyrica.png>";
 }
 else if(guSet=="matoi"){
        var myh3 = document.getElementById("selectedGu");
        myh3.innerHTML = "<img id=guDef src=item/matoi.png>";
 }

 if(taSet=="justice"){
        var myh4 = document.getElementById("selectedTa");
        myh4.innerHTML = "<img id=taDef src=item/justice_skill1.png>";
 }
 else if(taSet=="jeanne"){
        var myh4 = document.getElementById("selectedTa");
        myh4.innerHTML = "<img id=taDef src=item/jeanne.png>";
 }
 else if(taSet=="marcos"){
        var myh4 = document.getElementById("selectedTa");
        myh4.innerHTML = "<img id=taDef src=item/marcos_skill1.png>";
 }

 
}


//PC用
window.addEventListener("keydown",keydown);
window.addEventListener("keyup",keyup);

function keydown(event){
 if(event.keyCode==39){rightOn=1;}
 if(event.keyCode==37){leftOn=1;}
 if(event.keyCode==65){attackerOn=1;attackerSkill();}
 if(event.keyCode==83){gunnerOn=1;gunnerSkill();}
 if(event.keyCode==68){tankOn=1;tankSkill();}
}

function keyup(event){
 if(event.keyCode==39){rightOn=0;}
 if(event.keyCode==37){leftOn=0;}
 if(event.keyCode==65){attackerOn=0;if(skillHold==1){skillOut();}}
 if(event.keyCode==83){gunnerOn=0;if(skillHold==1){skillOut();}}
 if(event.keyCode==68){tankOn=0;if(skillHold==1){skillOut();guard=0;skillHold=0;}}
}

var elemHomeMenuButton = document.getElementById("homeMenuButton");
elemHomeMenuButton.addEventListener("mouseover", function (event) {
 document.documentElement.style.setProperty('--homeMenuButton', "0.8");
}, false);
var elemHomeMenuButton = document.getElementById("homeMenuButton");
elemHomeMenuButton.addEventListener("mouseout", function (event) {
 document.documentElement.style.setProperty('--homeMenuButton', "0");
}, false);

var elemHomeFeedBackButton = document.getElementById("homeFeedBackButton");
elemHomeFeedBackButton.addEventListener("mouseover", function (event) {
 document.documentElement.style.setProperty('--homeFeedBackButton', "0.8");
}, false);
var elemHomeFeedBackButton = document.getElementById("homeFeedBackButton");
elemHomeFeedBackButton.addEventListener("mouseout", function (event) {
 document.documentElement.style.setProperty('--homeFeedBackButton', "0");
}, false);

var elemHomeHeroButton = document.getElementById("homeHeroButton");
elemHomeHeroButton.addEventListener("mouseover", function (event) {
 document.documentElement.style.setProperty('--homeHeroButton', "0.8");
}, false);
var elemHomeHeroButton = document.getElementById("homeHeroButton");
elemHomeHeroButton.addEventListener("mouseout", function (event) {
 document.documentElement.style.setProperty('--homeHeroButton', "0");
}, false);

var elemHomeAsistButton = document.getElementById("homeAsistButton");
elemHomeAsistButton.addEventListener("mouseover", function (event) {
 document.documentElement.style.setProperty('--homeAsistButton', "0.8");
}, false);
var elemHomeAsistButton = document.getElementById("homeAsistButton");
elemHomeAsistButton.addEventListener("mouseout", function (event) {
 document.documentElement.style.setProperty('--homeAsistButton', "0");
}, false);

var elemHomeItemButton = document.getElementById("homeItemButton");
elemHomeItemButton.addEventListener("mouseover", function (event) {
 document.documentElement.style.setProperty('--homeItemButton', "0.8");
}, false);
var elemHomeItemButton = document.getElementById("homeItemButton");
elemHomeItemButton.addEventListener("mouseout", function (event) {
 document.documentElement.style.setProperty('--homeItemButton', "0");
}, false);

var elemHomeBattleButton = document.getElementById("homeBattleButton");
elemHomeBattleButton.addEventListener("mouseover", function (event) {
 document.documentElement.style.setProperty('--homeBattleButton', "0.8");
}, false);
var elemHomeBattleButton = document.getElementById("homeBattleButton");
elemHomeBattleButton.addEventListener("mouseout", function (event) {
 document.documentElement.style.setProperty('--homeBattleButton', "0");
}, false);

var elemHomeCraftButton = document.getElementById("homeCraftButton");
elemHomeCraftButton.addEventListener("mouseover", function (event) {
 document.documentElement.style.setProperty('--homeCraftButton', "0.8");
}, false);
var elemHomeCraftButton = document.getElementById("homeCraftButton");
elemHomeCraftButton.addEventListener("mouseout", function (event) {
 document.documentElement.style.setProperty('--homeCraftButton', "0");
}, false);

var elemHomeShopButton = document.getElementById("homeShopButton");
elemHomeShopButton.addEventListener("mouseover", function (event) {
 document.documentElement.style.setProperty('--homeShopButton', "0.8");
}, false);
var elemHomeShopButton = document.getElementById("homeShopButton");
elemHomeShopButton.addEventListener("mouseout", function (event) {
 document.documentElement.style.setProperty('--homeShopButton', "0");
}, false);

var elemStageSelectReturnButton = document.getElementById("stageSelectReturnButton");
elemStageSelectReturnButton.addEventListener("mouseover", function (event) {
 document.documentElement.style.setProperty('--stageSelectReturnButton', "0.8");
}, false);
var elemStageSelectReturnButton = document.getElementById("stageSelectReturnButton");
elemStageSelectReturnButton.addEventListener("mouseout", function (event) {
 document.documentElement.style.setProperty('--stageSelectReturnButton', "0");
}, false);

var elemlevel1SelectButton = document.getElementById("level1SelectButton");
elemlevel1SelectButton.addEventListener("mouseover", function (event) {
 document.documentElement.style.setProperty('--level1SelectButton', "0.8");
}, false);
var elemlevel1SelectButton = document.getElementById("level1SelectButton");
elemlevel1SelectButton.addEventListener("mouseout", function (event) {
 document.documentElement.style.setProperty('--level1SelectButton', "0");
}, false);

var elemlevel2SelectButton = document.getElementById("level2SelectButton");
elemlevel2SelectButton.addEventListener("mouseover", function (event) {
 document.documentElement.style.setProperty('--level2SelectButton', "0.8");
}, false);
var elemlevel2SelectButton = document.getElementById("level2SelectButton");
elemlevel2SelectButton.addEventListener("mouseout", function (event) {
 document.documentElement.style.setProperty('--level2SelectButton', "0");
}, false);

var elemlevel3SelectButton = document.getElementById("level3SelectButton");
elemlevel3SelectButton.addEventListener("mouseover", function (event) {
 document.documentElement.style.setProperty('--level3SelectButton', "0.8");
}, false);
var elemlevel3SelectButton = document.getElementById("level3SelectButton");
elemlevel3SelectButton.addEventListener("mouseout", function (event) {
 document.documentElement.style.setProperty('--level3SelectButton', "0");
}, false);

var elemtoNextStageButton = document.getElementById("toNextStageButton");
elemtoNextStageButton.addEventListener("mouseover", function (event) {
 document.documentElement.style.setProperty('--toNextStageButton', "0.8");
}, false);
var elemtoNextStageButton = document.getElementById("toNextStageButton");
elemtoNextStageButton.addEventListener("mouseout", function (event) {
 document.documentElement.style.setProperty('--toNextStageButton', "0");
}, false);

var elemtoPreviousStageButton = document.getElementById("toPreviousStageButton");
elemtoPreviousStageButton.addEventListener("mouseover", function (event) {
 document.documentElement.style.setProperty('--toPreviousStageButton', "0.8");
}, false);
var elemtoPreviousStageButton = document.getElementById("toPreviousStageButton");
elemtoPreviousStageButton.addEventListener("mouseout", function (event) {
 document.documentElement.style.setProperty('--toPreviousStageButton', "0");
}, false);

var elempartySelectReturnButton = document.getElementById("partySelectReturnButton");
elempartySelectReturnButton.addEventListener("mouseover", function (event) {
 document.documentElement.style.setProperty('--partySelectReturnButton', "0.8");
}, false);
var elempartySelectReturnButton = document.getElementById("partySelectReturnButton");
elempartySelectReturnButton.addEventListener("mouseout", function (event) {
 document.documentElement.style.setProperty('--partySelectReturnButton', "0");
}, false);

var elemsprinterSelectBackButton = document.getElementById("sprinterSelectBackButton");
elemsprinterSelectBackButton.addEventListener("mouseover", function (event) {if(selectingRole!="sprinter"){
 document.documentElement.style.setProperty('--sprinterSelectBackButton', "0.8");}
}, false);
var elemsprinterSelectBackButton = document.getElementById("sprinterSelectBackButton");
elemsprinterSelectBackButton.addEventListener("mouseout", function (event) {
 document.documentElement.style.setProperty('--sprinterSelectBackButton', "0");
}, false);

var elemattackerSelectBackButton = document.getElementById("attackerSelectBackButton");
elemattackerSelectBackButton.addEventListener("mouseover", function (event) {if(selectingRole!="attacker"){
 document.documentElement.style.setProperty('--attackerSelectBackButton', "0.8");}
}, false);
var elemattackerSelectBackButton = document.getElementById("attackerSelectBackButton");
elemattackerSelectBackButton.addEventListener("mouseout", function (event) {
 document.documentElement.style.setProperty('--attackerSelectBackButton', "0");
}, false);

var elemgunnerSelectBackButton = document.getElementById("gunnerSelectBackButton");
elemgunnerSelectBackButton.addEventListener("mouseover", function (event) {if(selectingRole!="gunner"){
 document.documentElement.style.setProperty('--gunnerSelectBackButton', "0.8");}
}, false);
var elemgunnerSelectBackButton = document.getElementById("gunnerSelectBackButton");
elemgunnerSelectBackButton.addEventListener("mouseout", function (event) {
 document.documentElement.style.setProperty('--gunnerSelectBackButton', "0");
}, false);

var elemtankSelectBackButton = document.getElementById("tankSelectBackButton");
elemtankSelectBackButton.addEventListener("mouseover", function (event) {if(selectingRole!="tank"){
 document.documentElement.style.setProperty('--tankSelectBackButton', "0.8");}
}, false);
var elemtankSelectBackButton = document.getElementById("tankSelectBackButton");
elemtankSelectBackButton.addEventListener("mouseout", function (event) {
 document.documentElement.style.setProperty('--tankSelectBackButton', "0");
}, false);

var elem = document.getElementById("atariSpSelectButton");
elem.addEventListener("mouseover", function (event) {
 document.documentElement.style.setProperty('--atariSpSelectButton', "0.2");
}, false);
var elem = document.getElementById("atariSpSelectButton");
elem.addEventListener("mouseout", function (event) {
 document.documentElement.style.setProperty('--atariSpSelectButton', "1");
}, false);

var elem = document.getElementById("voidollSpSelectButton");
elem.addEventListener("mouseover", function (event) {
 document.documentElement.style.setProperty('--voidollSpSelectButton', "0.2");
}, false);
var elem = document.getElementById("voidollSpSelectButton");
elem.addEventListener("mouseout", function (event) {
 document.documentElement.style.setProperty('--voidollSpSelectButton', "1");
}, false);

var elem = document.getElementById("nikolaSpSelectButton");
elem.addEventListener("mouseover", function (event) {
 document.documentElement.style.setProperty('--nikolaSpSelectButton', "0.2");
}, false);
var elem = document.getElementById("nikolaSpSelectButton");
elem.addEventListener("mouseout", function (event) {
 document.documentElement.style.setProperty('--nikolaSpSelectButton', "1");
}, false);

var elem = document.getElementById("nohoAtSelectButton");
elem.addEventListener("mouseover", function (event) {
 document.documentElement.style.setProperty('--nohoAtSelectButton', "0.2");
}, false);
var elem = document.getElementById("nohoAtSelectButton");
elem.addEventListener("mouseout", function (event) {
 document.documentElement.style.setProperty('--nohoAtSelectButton', "1");
}, false);

var elem = document.getElementById("tadaomiAtSelectButton");
elem.addEventListener("mouseover", function (event) {
 document.documentElement.style.setProperty('--tadaomiAtSelectButton', "0.2");
}, false);
var elem = document.getElementById("tadaomiAtSelectButton");
elem.addEventListener("mouseout", function (event) {
 document.documentElement.style.setProperty('--tadaomiAtSelectButton', "1");
}, false);

var elem = document.getElementById("lucianoAtSelectButton");
elem.addEventListener("mouseover", function (event) {
 document.documentElement.style.setProperty('--lucianoAtSelectButton', "0.2");
}, false);
var elem = document.getElementById("lucianoAtSelectButton");
elem.addEventListener("mouseout", function (event) {
 document.documentElement.style.setProperty('--lucianoAtSelectButton', "1");
}, false);

var elem = document.getElementById("lyricaGuSelectButton");
elem.addEventListener("mouseover", function (event) {
 document.documentElement.style.setProperty('--lyricaGuSelectButton', "0.2");
}, false);
var elem = document.getElementById("lyricaGuSelectButton");
elem.addEventListener("mouseout", function (event) {
 document.documentElement.style.setProperty('--lyricaGuSelectButton', "1");
}, false);

var elem = document.getElementById("matoiGuSelectButton");
elem.addEventListener("mouseover", function (event) {
 document.documentElement.style.setProperty('--matoiGuSelectButton', "0.2");
}, false);
var elem = document.getElementById("matoiGuSelectButton");
elem.addEventListener("mouseout", function (event) {
 document.documentElement.style.setProperty('--matoiGuSelectButton', "1");
}, false);

var elem = document.getElementById("justiceTaSelectButton");
elem.addEventListener("mouseover", function (event) {
 document.documentElement.style.setProperty('--justiceTaSelectButton', "0.2");
}, false);
var elem = document.getElementById("justiceTaSelectButton");
elem.addEventListener("mouseout", function (event) {
 document.documentElement.style.setProperty('--justiceTaSelectButton', "1");
}, false);

var elem = document.getElementById("jeanneTaSelectButton");
elem.addEventListener("mouseover", function (event) {
 document.documentElement.style.setProperty('--jeanneTaSelectButton', "0.2");
}, false);
var elem = document.getElementById("jeanneTaSelectButton");
elem.addEventListener("mouseout", function (event) {
 document.documentElement.style.setProperty('--jeanneTaSelectButton', "1");
}, false);

var elem = document.getElementById("marcosTaSelectButton");
elem.addEventListener("mouseover", function (event) {
 document.documentElement.style.setProperty('--marcosTaSelectButton', "0.2");
}, false);
var elem = document.getElementById("marcosTaSelectButton");
elem.addEventListener("mouseout", function (event) {
 document.documentElement.style.setProperty('--marcosTaSelectButton', "1");
}, false);

var elem = document.getElementById("partySelectDecisionButton");
elem.addEventListener("mouseover", function (event) {
 document.documentElement.style.setProperty('--partySelectDecisionButton', "0.8");
}, false);
var elem = document.getElementById("partySelectDecisionButton");
elem.addEventListener("mouseout", function (event) {
 document.documentElement.style.setProperty('--partySelectDecisionButton', "0");
}, false);

var elem = document.getElementById("checkBeforeBattleYesButton");
elem.addEventListener("mouseover", function (event) {
 document.documentElement.style.setProperty('--checkBeforeBattleYesButton', "0.8");
}, false);
var elem = document.getElementById("checkBeforeBattleYesButton");
elem.addEventListener("mouseout", function (event) {
 document.documentElement.style.setProperty('--checkBeforeBattleYesButton', "0");
}, false);

var elem = document.getElementById("checkBeforeBattleNoButton");
elem.addEventListener("mouseover", function (event) {
 document.documentElement.style.setProperty('--checkBeforeBattleNoButton', "0.8");
}, false);
var elem = document.getElementById("checkBeforeBattleNoButton");
elem.addEventListener("mouseout", function (event) {
 document.documentElement.style.setProperty('--checkBeforeBattleNoButton', "0");
}, false);

var elem = document.getElementById("clearResultToHomeButton");
elem.addEventListener("mouseover", function (event) {
 document.documentElement.style.setProperty('--clearResultToHomeButton', "0.8");
}, false);
var elem = document.getElementById("clearResultToHomeButton");
elem.addEventListener("mouseout", function (event) {
 document.documentElement.style.setProperty('--clearResultToHomeButton', "0");
}, false);




//スマホ用
window.oncontextmenu = function(event) {//画像長押しによるポップアップ無効化
 event.preventDefault();
 event.stopPropagation();
 return false;
};

window.addEventListener('load', function(){
 // タッチ開始
 document.getElementById("toRight").addEventListener('touchstart', toRightOn);
 // タッチ終了
 document.getElementById("toRight").addEventListener('touchend', toRightOff);

 document.getElementById("toLeft").addEventListener('touchstart', toLeftOn);
 document.getElementById("toLeft").addEventListener('touchend', toLeftOff);

 document.getElementById("ataBut").addEventListener('touchstart', ataButOn);
 document.getElementById("ataBut").addEventListener('touchend', ataButOff);

 document.getElementById("gunBut").addEventListener('touchstart', gunButOn);
 document.getElementById("gunBut").addEventListener('touchend', gunButOff);

 document.getElementById("tanBut").addEventListener('touchstart', tanButOn);
 document.getElementById("tanBut").addEventListener('touchend', tanButOff);

 document.getElementById("homeMenuButton").addEventListener('touchstart', homeMenuButtonOn);
 document.getElementById("homeMenuButton").addEventListener('touchend', homeMenuButtonOff);

 document.getElementById("homeFeedBackButton").addEventListener('touchstart', homeFeedBackButtonOn);
 document.getElementById("homeFeedBackButton").addEventListener('touchend', homeFeedBackButtonOff);

 document.getElementById("homeHeroButton").addEventListener('touchstart', homeHeroButtonOn);
 document.getElementById("homeHeroButton").addEventListener('touchend', homeHeroButtonOff);

 document.getElementById("homeAsistButton").addEventListener('touchstart', homeAsistButtonOn);
 document.getElementById("homeAsistButton").addEventListener('touchend', homeAsistButtonOff);

 document.getElementById("homeItemButton").addEventListener('touchstart', homeItemButtonOn);
 document.getElementById("homeItemButton").addEventListener('touchend', homeItemButtonOff);

 document.getElementById("homeBattleButton").addEventListener('touchstart', homeBattleButtonOn);
 document.getElementById("homeBattleButton").addEventListener('touchend', homeBattleButtonOff);

 document.getElementById("homeCraftButton").addEventListener('touchstart', homeCraftButtonOn);
 document.getElementById("homeCraftButton").addEventListener('touchend', homeCraftButtonOff);

 document.getElementById("homeShopButton").addEventListener('touchstart', homeShopButtonOn);
 document.getElementById("homeShopButton").addEventListener('touchend', homeShopButtonOff);

 document.getElementById("stageSelectReturnButton").addEventListener('touchstart', stageSelectReturnButtonOn);
 document.getElementById("stageSelectReturnButton").addEventListener('touchend', stageSelectReturnButtonOff);

 document.getElementById("level1SelectButton").addEventListener('touchstart', level1SelectButtonOn);
 document.getElementById("level1SelectButton").addEventListener('touchend', level1SelectButtonOff);

 document.getElementById("level2SelectButton").addEventListener('touchstart', level2SelectButtonOn);
 document.getElementById("level2SelectButton").addEventListener('touchend', level2SelectButtonOff);

 document.getElementById("level3SelectButton").addEventListener('touchstart', level3SelectButtonOn);
 document.getElementById("level3SelectButton").addEventListener('touchend', level3SelectButtonOff);

 document.getElementById("toNextStageButton").addEventListener('touchstart', toNextStageButtonOn);
 document.getElementById("toNextStageButton").addEventListener('touchend', toNextStageButtonOff);

 document.getElementById("toPreviousStageButton").addEventListener('touchstart', toPreviousStageButtonOn);
 document.getElementById("toPreviousStageButton").addEventListener('touchend', toPreviousStageButtonOff);

 document.getElementById("partySelectReturnButton").addEventListener('touchstart', partySelectReturnButtonOn);
 document.getElementById("partySelectReturnButton").addEventListener('touchend', partySelectReturnButtonOff);

 document.getElementById("sprinterSelectBackButton").addEventListener('touchstart', sprinterSelectBackButtonOn);
 document.getElementById("sprinterSelectBackButton").addEventListener('touchend', sprinterSelectBackButtonOff);

 document.getElementById("gunnerSelectBackButton").addEventListener('touchstart', gunnerSelectBackButtonOn);
 document.getElementById("gunnerSelectBackButton").addEventListener('touchend', gunnerSelectBackButtonOff);

 document.getElementById("atariSpSelectButton").addEventListener('touchstart', atariSpSelectButtonOn);
 document.getElementById("atariSpSelectButton").addEventListener('touchend', atariSpSelectButtonOff);

 document.getElementById("voidollSpSelectButton").addEventListener('touchstart', voidollSpSelectButtonOn);
 document.getElementById("voidollSpSelectButton").addEventListener('touchend', voidollSpSelectButtonOff);

 document.getElementById("nikolaSpSelectButton").addEventListener('touchstart', nikolaSpSelectButtonOn);
 document.getElementById("nikolaSpSelectButton").addEventListener('touchend', nikolaSpSelectButtonOff);

 document.getElementById("nohoAtSelectButton").addEventListener('touchstart', nohoAtSelectButtonOn);
 document.getElementById("nohoAtSelectButton").addEventListener('touchend', nohoAtSelectButtonOff);

 document.getElementById("tadaomiAtSelectButton").addEventListener('touchstart', tadaomiAtSelectButtonOn);
 document.getElementById("tadaomiAtSelectButton").addEventListener('touchend', tadaomiAtSelectButtonOff);

 document.getElementById("lucianoAtSelectButton").addEventListener('touchstart', lucianoAtSelectButtonOn);
 document.getElementById("lucianoAtSelectButton").addEventListener('touchend', lucianoAtSelectButtonOff);

 document.getElementById("lyricaGuSelectButton").addEventListener('touchstart', lyricaGuSelectButtonOn);
 document.getElementById("lyricaGuSelectButton").addEventListener('touchend', lyricaGuSelectButtonOff);

 document.getElementById("matoiGuSelectButton").addEventListener('touchstart', matoiGuSelectButtonOn);
 document.getElementById("matoiGuSelectButton").addEventListener('touchend', matoiGuSelectButtonOff);

 document.getElementById("partySelectDecisionButton").addEventListener('touchstart', partySelectDecisionButtonOn);
 document.getElementById("partySelectDecisionButton").addEventListener('touchend', partySelectDecisionButtonOff);

 document.getElementById("checkBeforeBattleYesButton").addEventListener('touchstart', checkBeforeBattleYesButtonOn);
 document.getElementById("checkBeforeBattleYesButton").addEventListener('touchend', checkBeforeBattleYesButtonOff);

 document.getElementById("checkBeforeBattleNoButton").addEventListener('touchstart', checkBeforeBattleNoButtonOn);
 document.getElementById("checkBeforeBattleNoButton").addEventListener('touchend', checkBeforeBattleNoButtonOff);

 document.getElementById("clearResultToHomeButton").addEventListener('touchstart', clearResultToHomeButtonOn);
 document.getElementById("clearResultToHomeButton").addEventListener('touchend', clearResultToHomeButtonOff);




});
function toRightOn() {
 rightOn=1;
}
function toRightOff() {
 rightOn=0;
}
function toLeftOn() {
 leftOn=1;
}
function toLeftOff() {
 leftOn=0;
}
function ataButOn() {
 attackerOn=1;attackerSkill();
}
function homeMenuButtonOn(){

}

function ataButOff() {
 attackerOn=0;if(skillHold==1){skillOut();}
}
function gunButOn() {
 gunnerOn=1;gunnerSkill();
}
function gunButOff() {
 gunnerOn=0;if(skillHold==1){skillOut();}
}
function tanButOn() {
 tankOn=1;tankSkill();
}
function tanButOff() {
 tankOn=0;if(skillHold==1){skillOut();guard=0;skillHold=0;}
}
function homeMenuButtonOn(){
 document.documentElement.style.setProperty('--homeMenuButton', "0.8");
}
function homeMenuButtonOff(){
 document.documentElement.style.setProperty('--homeMenuButton', "0");
}
function homeFeedBackButtonOn(){
 document.documentElement.style.setProperty('--homeFeedBackButton', "0.8");
}
function homeFeedBackButtonOff(){
 document.documentElement.style.setProperty('--homeFeedBackButton', "0");
}
function homeHeroButtonOn(){
 document.documentElement.style.setProperty('--homeHeroButton', "0.8");
}
function homeHeroButtonOff(){
 document.documentElement.style.setProperty('--homeHeroButton', "0");
}
function homeAsistButtonOn(){
 document.documentElement.style.setProperty('--homeAsistButton', "0.8");
}
function homeAsistButtonOff(){
 document.documentElement.style.setProperty('--homeAsistButton', "0");
}
function homeItemButtonOn(){
 document.documentElement.style.setProperty('--homeItemButton', "0.8");
}
function homeItemButtonOff(){
 document.documentElement.style.setProperty('--homeItemButton', "0");
}
function homeBattleButtonOn(){
 document.documentElement.style.setProperty('--homeBattleButton', "0.8");
}
function homeBattleButtonOff(){
 document.documentElement.style.setProperty('--homeBattleButton', "0");
}
function homeCraftButtonOn(){
 document.documentElement.style.setProperty('--homeCraftButton', "0.8");
}
function homeCraftButtonOff(){
 document.documentElement.style.setProperty('--homeCraftButton', "0");
}
function homeShopButtonOn(){
 document.documentElement.style.setProperty('--homeShopButton', "0.8");
}
function homeShopButtonOff(){
 document.documentElement.style.setProperty('--homeShopButton', "0");
}
function stageSelectReturnButtonOn(){
 document.documentElement.style.setProperty('--stageSelectReturnButton', "0.8");
}
function stageSelectReturnButtonOff(){
 document.documentElement.style.setProperty('--stageSelectReturnButton', "0");
}
function level1SelectButtonOn(){
 document.documentElement.style.setProperty('--level1SelectButton', "0.8");
}
function level1SelectButtonOff(){
 document.documentElement.style.setProperty('--level1SelectButton', "0");
}
function level2SelectButtonOn(){
 document.documentElement.style.setProperty('--level2SelectButton', "0.8");
}
function level2SelectButtonOff(){
 document.documentElement.style.setProperty('--level2SelectButton', "0");
}
function level3SelectButtonOn(){
 document.documentElement.style.setProperty('--level3SelectButton', "0.8");
}
function level3SelectButtonOff(){
 document.documentElement.style.setProperty('--level3SelectButton', "0");
}
function toNextStageButtonOn(){
 document.documentElement.style.setProperty('--toNextStageButton', "0.8");
}
function toNextStageButtonOff(){
 document.documentElement.style.setProperty('--toNextStageButton', "0");
}
function toPreviousStageButtonOn(){
 document.documentElement.style.setProperty('--toPreviousStageButton', "0.8");
}
function toPreviousStageButtonOff(){
 document.documentElement.style.setProperty('--toPreviousStageButton', "0");
}
function partySelectReturnButtonOn(){
 document.documentElement.style.setProperty('--partySelectReturnButton', "0.8");
}
function partySelectReturnButtonOff(){
 document.documentElement.style.setProperty('--partySelectReturnButton', "0");
}
function sprinterSelectBackButtonOn(){
 if(selectingRole!="sprinter"){document.documentElement.style.setProperty('--sprinterSelectBackButton', "0.8");}
}
function sprinterSelectBackButtonOff(){
 document.documentElement.style.setProperty('--sprinterSelectBackButton', "0");
}
function attackerSelectBackButtonOn(){
 if(selectingRole!="attacker"){document.documentElement.style.setProperty('--attackerSelectBackButton', "0.8");}
}
function attackerSelectBackButtonOff(){
 document.documentElement.style.setProperty('--attackerSelectBackButton', "0");
}
function gunnerSelectBackButtonOn(){
 if(selectingRole!="gunner"){document.documentElement.style.setProperty('--gunnerSelectBackButton', "0.8");}
}
function gunnerSelectBackButtonOff(){
 document.documentElement.style.setProperty('--gunnerSelectBackButton', "0");
}
function atariSpSelectButtonOn(){
 document.documentElement.style.setProperty('--atariSelectButton', "0.8");
}
function atariSpSelectButtonOff(){
 document.documentElement.style.setProperty('--atariSelectButton', "0");
}
function voidollSpSelectButtonOn(){
 document.documentElement.style.setProperty('--voidollSpSelectButton', "0.8");
}
function voidollSpSelectButtonOff(){
 document.documentElement.style.setProperty('--voidollSpSelectButton', "0");
}
function nikolaSpSelectButtonOn(){
 document.documentElement.style.setProperty('--nikolaSpSelectButton', "0.8");
}
function nikolaSpSelectButtonOff(){
 document.documentElement.style.setProperty('--nikolaSpSelectButton', "0");
}
function nohoAtSelectButtonOn(){
 document.documentElement.style.setProperty('--nohoAtSelectButton', "0.8");
}
function nohoAtSelectButtonOff(){
 document.documentElement.style.setProperty('--nohoAtSelectButton', "0");
}
function tadaomiAtSelectButtonOn(){
 document.documentElement.style.setProperty('--tadaomiAtSelectButton', "0.8");
}
function tadaomiAtSelectButtonOff(){
 document.documentElement.style.setProperty('--tadaomiAtSelectButton', "0");
}
function lucianoAtSelectButtonOn(){
 document.documentElement.style.setProperty('--lucianoAtSelectButton', "0.8");
}
function lucianoAtSelectButtonOff(){
 document.documentElement.style.setProperty('--lucianoAtSelectButton', "0");
}
function lyricaGuSelectButtonOn(){
 document.documentElement.style.setProperty('--lyricaGuSelectButton', "0.8");
}
function lyricaGuSelectButtonOff(){
 document.documentElement.style.setProperty('--lyricaGuSelectButton', "0");
}
function matoiGuSelectButtonOn(){
 document.documentElement.style.setProperty('--matoiGuSelectButton', "0.8");
}
function matoiGuSelectButtonOff(){
 document.documentElement.style.setProperty('--matoiGuSelectButton', "0");
}
function partySelectDecisionButtonOn(){
 document.documentElement.style.setProperty('--partySelectDecisionButton', "0.8");
}
function partySelectDecisionButtonOff(){
 document.documentElement.style.setProperty('--partySelectDecisionButton', "0");
}
function checkBeforeBattleYesButtonOn(){
 document.documentElement.style.setProperty('--checkBeforeBattleYesButton', "0.8");
}
function checkBeforeBattleYesButtonOff(){
 document.documentElement.style.setProperty('--checkBeforeBattleYesButton', "0");
}
function checkBeforeBattleNoButtonOn(){
 document.documentElement.style.setProperty('--checkBeforeBattleNoButton', "0.8");
}
function checkBeforeBattleNoButtonOff(){
 document.documentElement.style.setProperty('--checkBeforeBattleNoButton', "0");
}
function clearResultToHomeButtonOn(){
 document.documentElement.style.setProperty('--clearResultToHomeButton', "0.8");
}
function clearResultToHomeButtonOff(){
 document.documentElement.style.setProperty('--clearResultToHomeButton', "0");
}




const log = function(){
 if(phase){

  if(skill==0){
   if(rightOn){
    document.documentElement.style.setProperty('--pushToRight', "0.8");

    if(walk==0){
     walk=1;
    }
    if(spSet=="atari"){
     atariWalk();
    }
    else if(spSet=="voidoll"){
     voidollWalk();
    }
    else if(spSet=="nikola"){
     nikolaWalk();
    }
   
    if(sidePosi<90){
     sidePosi=Number(sidePosi);
     sidePosi=sidePosi+5;
     sidePosiN=sidePosi;
     sidePosi=String(sidePosi);console.log(sidePosi);

     const root = document.querySelector(':root');
     root.style.setProperty("--shift", sidePosi+"%");
     direction=1;
     root.style.setProperty("--direction", direction);
     document.getElementById("selectedSp").classList.add("shift");
    }
   }

   else{
    if(spSet=="atari"){
     var myh1 = document.getElementById("selectedSp");
     myh1.innerHTML = "<img id=spDef src=item/atari.png>";
    }
    else if(spSet=="voidoll"){
     var myh1 = document.getElementById("selectedSp");
     myh1.innerHTML = "<img id=spDef src=item/voidoll.png>";
    }
    else if(spSet=="nikola"){
     var myh1 = document.getElementById("selectedSp");
     myh1.innerHTML = "<img id=spDef src=item/nikola.png>";
    }
   }

  
   if(leftOn){
    document.documentElement.style.setProperty('--pushToLeft', "0.8");

    if(walk==0){
     walk=1;
    }
    if(spSet=="atari"){
     atariWalk();
    }
    else if(spSet=="voidoll"){
     voidollWalk();
    }
    else if(spSet=="nikola"){
     nikolaWalk();
    }
   
    if(sidePosi>0){
     sidePosi=Number(sidePosi);
     sidePosi=sidePosi-5;
     sidePosiN=sidePosi;
     sidePosi=String(sidePosi);console.log(sidePosi);

     const root = document.querySelector(':root');
     root.style.setProperty("--shift", sidePosi+"%");
     direction=-1;
     root.style.setProperty("--direction", direction);
     document.getElementById("selectedSp").classList.add("shift");
    }
   }
  }

  if(attackerOn){document.documentElement.style.setProperty('--pushAtaBut', "0.8");}
  if(gunnerOn){document.documentElement.style.setProperty('--pushGunBut', "0.8");}
  if(tankOn){document.documentElement.style.setProperty('--pushTanBut', "0.8");}
  if(!rightOn){document.documentElement.style.setProperty('--pushToRight', "0");}
  if(!leftOn){document.documentElement.style.setProperty('--pushToLeft', "0");}
  if(!attackerOn){document.documentElement.style.setProperty('--pushAtaBut', "0");}
  if(!gunnerOn){document.documentElement.style.setProperty('--pushGunBut', "0");}
  if(!tankOn){document.documentElement.style.setProperty('--pushTanBut', "0");}

  if(mekahanAct1==1&&mekahanAct2==0){
   mekahanAct();
  }
 }
};

setInterval(log, 100);

function atariWalk(){
 if(walk==1){
  var myh1 = document.getElementById("selectedSp");
  myh1.innerHTML = "<img id=spDef src=item/atari_walk1.png>";
  walk=2;
 }
 else if(walk==2){
  var myh1 = document.getElementById("selectedSp");
  myh1.innerHTML = "<img id=spDef src=item/atari_walk2.png>";
  walk=1;
 }
}

function voidollWalk(){
  var myh1 = document.getElementById("selectedSp");
  myh1.innerHTML = "<img id=spDef src=item/voidoll_walk1.png>";
}

function nikolaWalk(){
 if(walk==1){
  var myh1 = document.getElementById("selectedSp");
  myh1.innerHTML = "<img id=spDef src=item/nikola_walk1.png>";
  walk=2;
 }
 else if(walk==2){
  var myh1 = document.getElementById("selectedSp");
  myh1.innerHTML = "<img id=spDef src=item/nikola_walk1.png>";
  walk=3;
 }
 else if(walk==3){
  var myh1 = document.getElementById("selectedSp");
  myh1.innerHTML = "<img id=spDef src=item/nikola_walk1.png>";
  walk=4;
 }
 else if(walk==4){
  var myh1 = document.getElementById("selectedSp");
  myh1.innerHTML = "<img id=spDef src=item/nikola_walk1.png>";
  walk=5;
 }
 else if(walk==5){
  var myh1 = document.getElementById("selectedSp");
  myh1.innerHTML = "<img id=spDef src=item/nikola_walk2.png>";
  walk=1;
 }
}

function attackerSkill(){
 if(phase==1&&skill==0){
  skill=1;
  if(atSet=="noho"){
   nohoSkill1();
  }
  else if(atSet=="tadaomi"){
   tadaomiSkill1();
  }
  else if(atSet=="luciano"){
   lucianoSkill1();
  }
 }
}

function gunnerSkill(){
 if(phase==1&&skill==0){
  skill=1;
  if(guSet=="lyrica"){
   lyricaSkill1();
  }
  else if(guSet=="matoi"){
   matoiSkill1();
  }
 }
}

function tankSkill(){
 if(phase==1&&skill==0){
  skill=1;
  if(taSet=="justice"){
   justiceSkill1();
  }
  else if(taSet=="jeanne"){
   jeanneSkill1();
  }
  else if(taSet=="marcos"){
   marcosSkill1();
  }
 }
}

function nohoSkill1(){
 if(SkillCheck==0){
  SkillCheck=1;
  var myh1 = document.getElementById("selectedSp");
  myh1.innerHTML = "<img id=spDef src=item/noho_skill1.png>";
  heroAttack(nohoSkill1status,direction,2);
  if(attackerOn){
   setTimeout(function(){
    SkillCheck=0;
    nohoSkill1();
   },200);
  }
  else{
   setTimeout(function(){
    skillOut();
    SkillCheck=0;
   },200);
  }
 }
}

function tadaomiSkill1(){
 if(SkillCheck==0){
  SkillCheck=1;
  var myh1 = document.getElementById("selectedSp");
  myh1.innerHTML = "<img id=spDef src=item/tadaomi.png>";
  setTimeout(function(){
   heroAttack(tadaomiSkill1status,direction,2);
   var myh1 = document.getElementById("selectedSp");
   myh1.innerHTML = "<img id=spDef src=item/tadaomi_skill1.png>";
   setTimeout(function(){
    var myh1 = document.getElementById("selectedSp");
    myh1.innerHTML = "<img id=spDef src=item/tadaomi.png>";
    setTimeout(function(){
     skillOut();
     SkillCheck=0;
    },500);
   },500);
  },200); 
 }
}

function lucianoSkill1(){
 if(SkillCheck==0){
  SkillCheck=1;
  var myh1 = document.getElementById("selectedSp");
  myh1.innerHTML = "<img id=spDef src=item/luciano_skill1.png>";
  setTimeout(function(){
   var myh1 = document.getElementById("selectedSp");
   myh1.innerHTML = "<img id=spDef src=item/luciano_skill1.png>";
   heroAttack(lucianoSkill1status,direction,6);
     sidePosi=Number(sidePosi);
     if(direction==1){sidePosi=sidePosi-15;}else{sidePosi=sidePosi+15;}
     if(sidePosi<0){sidePosi=0;}else if(sidePosi>90){sidePosi=90;}
     sidePosiN=sidePosi;
     sidePosi=String(sidePosi);console.log(sidePosi);

     const root = document.querySelector(':root');
     root.style.setProperty("--shift", sidePosi+"%");
     document.getElementById("selectedSp").classList.add("shift");
    
   setTimeout(function(){
    var myh1 = document.getElementById("selectedSp");
    myh1.innerHTML = "<img id=spDef src=item/luciano_skill1.png>";
    setTimeout(function(){
     skillOut();
     SkillCheck=0;
    },100);
   },300);
  },100); 
 }
}

function lyricaSkill1(){
 if(SkillCheck==0){
  SkillCheck=1;
  var myh1 = document.getElementById("selectedSp");
  myh1.innerHTML = "<img id=spDef src=item/lyrica.png>";
  setTimeout(function(){
   var skill1 = document.getElementById("lyricaSkillBulletBase");
   skill1.innerHTML = "<div id=lyricaSkillBullet class=lyricaSkill1></div>";
   lyricaSkillBulletBase.style.zIndex = 10;
   var myh1 = document.getElementById("selectedSp");
   myh1.innerHTML = "<img id=spDef src=item/lyrica_skill1.png>";
   setTimeout(function(){
    heroShooting(lyricaSkill1status,500);
    var myh1 = document.getElementById("selectedSp");
    myh1.innerHTML = "<img id=spDef src=item/lyrica.png>";
    setTimeout(function(){
     skillOut();
     SkillCheck=0;
    },500);
   },500);
  },200); 
 }
}

function matoiSkill1(){
 if(SkillCheck==0){
  SkillCheck=1;
  var myh1 = document.getElementById("selectedSp");
  myh1.innerHTML = "<img id=spDef src=item/matoi.png>";
  setTimeout(function(){
   var skill1 = document.getElementById("matoiSkillBulletBase");
   skill1.innerHTML = "<div id=matoiSkillBullet class=matoiSkill1></div>";
   matoiSkillBulletBase.style.zIndex = 10;
   var myh1 = document.getElementById("selectedSp");
   myh1.innerHTML = "<img id=spDef src=item/matoi_skill1.png>";
   setTimeout(function(){
    heroShooting(matoiSkill1status,500);
    var myh1 = document.getElementById("selectedSp");
    myh1.innerHTML = "<img id=spDef src=item/matoi.png>";
    setTimeout(function(){
     skillOut();
     SkillCheck=0;
    },500);
   },2000);
  },500); 
 }
}

function justiceSkill1(){
  skillHold=1;
  var myh1 = document.getElementById("selectedSp");
  myh1.innerHTML = "<img id=spDef src=item/justice_skill1.png>";
  setTimeout(function(){
   guard=1;
   var myh1 = document.getElementById("selectedSp");
   myh1.innerHTML = "<img id=spDef src=item/justice_skill2.png>";
  },200);
}

function jeanneSkill1(){
 if(SkillCheck==0){
  SkillCheck=1;
  var myh1 = document.getElementById("selectedSp");
  myh1.innerHTML = "<img id=spDef src=item/jeanne.png>";
  setTimeout(function(){
   var myh1 = document.getElementById("selectedSp");
   myh1.innerHTML = "<img id=spDef src=item/jeanne.png>";
   setTimeout(function(){
    var jeanneHeal = document.getElementById("healBuffEffect");
    jeanneHeal.innerHTML = "<img src=item/回復エフェクト.png>";
    if(heroHP<=90){
     heroHP=heroHP+jeanneSkill1status;
     heroHPchange=heroHP*31/defaultHeroHP;
     heroHPchange=String(heroHPchange);
     const rootHeroHP = document.querySelector(':root');
     rootHeroHP.style.setProperty("--heroHPbar", heroHPchange+"%");
    }
    else if(heroHP>90){
     heroHP=100;
     heroHPchange=heroHP*0.31;
     heroHPchange=String(heroHPchange);
     const rootHeroHP = document.querySelector(':root');
     rootHeroHP.style.setProperty("--heroHPbar", heroHPchange+"%");
    }
    setTimeout(function(){
     var jeanneHeal = document.getElementById("healBuffEffect");
     jeanneHeal.innerHTML = " ";
     skillOut();
     SkillCheck=0;
    },500);
   },1500);
  },500); 
 }
}

function marcosSkill1(){
 if(SkillCheck==0){
  if(tankKeep==0){
   tankKeep=1;
   SkillCheck=1;
   var myh1 = document.getElementById("selectedSp");
   myh1.innerHTML = "<img id=spDef src=item/marcos_skill1.png>";
   var marcosBuff = document.getElementById("attackBuffEffect");
   marcosBuff.innerHTML = "<img  src=item/強化エフェクト.png>";
   setTimeout(function(){
    var myh1 = document.getElementById("selectedSp");
    myh1.innerHTML = "<img id=spDef src=item/marcos_skill1.png>";
    skillOut();
    SkillCheck=0;
    attackBuff=attackBuff+(marcosSkill1status-1);
    setTimeout(function(){
     attackBuff=attackBuff-(marcosSkill1status-1);
     var marcosBuff = document.getElementById("attackBuffEffect");
     marcosBuff.innerHTML = " ";
     tankKeep=0;
    },8000);
   },2000); 
  }
  else{
   skillOut();
   SkillCheck=0;
  }
 }
}

function skillOut(){
 skill=0;
 if(spSet=="atari"){
  var myh1 = document.getElementById("selectedSp");
  myh1.innerHTML = "<img id=spDef src=item/atari.png>";
 }
 else if(spSet=="voidoll"){
  var myh1 = document.getElementById("selectedSp");
  myh1.innerHTML = "<img id=spDef src=item/voidoll.png>";
 }
 else if(spSet=="nikola"){
  var myh1 = document.getElementById("selectedSp");
  myh1.innerHTML = "<img id=spDef src=item/nikola.png>";
 }
}

function mekahanBattleStart(){
 enemyHP=300*stageLevel;
 defaultEnemyHP=enemyHP;
 enemyBack=1;
 enemySet.style.zIndex=0;
 gameClearCheck=0;
 mekahanSet.style.zIndex = 0;
 mekahanBody.style.zIndex = 5;
 mekahanHole1.style.zIndex = 7;
 mekahanHole2.style.zIndex = 7;
 miniMekahanField.style.zIndex = 8;
 mekahanBodyAttack1.style.zIndex = 4;
 mekahanBodyAttack2.style.zIndex = 3;
 mekahanJet.style.zIndex = 0;
 mekahanHand.style.zIndex = 6;
 mekahanAct1=1;
}

function mekahanAct(){
 mekahanAct2=1;
 if(sidePosiN<=15){
  if(mekahanSpan1==0){
  mekahanAttack1();
  }
  else{
  mekahanSpan1=0;
  mekahanAttack3();
  }
 }
 else if(sidePosiN>=75){//振り降ろし
  if(mekahanSpan2==0){
  mekahanAttack2();
  }
  else{
  mekahanSpan2=0;
  mekahanAttack4();
  }
 }
 else if(sidePosiN>=25&&sidePosiN<=40){
  if(mekahanSpan3==0){
  mekahanAttack3();
  }
  else{
  mekahanSpan3=0;
  mekahanAttack1();
  }
 }
 else if(sidePosiN<=65&&sidePosiN>=50){//ボディプレス
  if(mekahanSpan4==0){
  mekahanAttack4();
  }
  else{
  mekahanSpan4=0;
  mekahanAttack2();
  }
 }
 else{
  mekahanAttack5();//ミニメカ
 }
}

function mekahanAttack1(){
  mekahanSpan1=1;
  const mekaAt1a = document.getElementById("mekahanBody");
  mekaAt1a.classList.add('mekahanAttack1');
  const mekaAt1b = document.getElementById("mekahanHand");
  mekaAt1b.classList.add('mekahanHandAttack1');
  setTimeout(function(){
   if(sidePosi<20){
    getDamage(10);
   }
   if(sidePosi>=55&&sidePosi<=75){
    getDamage(10);
   }
   enemyFront.push(0,5,10,15,55,60,65,70,75);
   setTimeout(function(){enemyFront=[];},1000);
   setTimeout(function(){
    document.getElementById("mekahanBody").classList.remove("mekahanAttack1");
    document.getElementById("mekahanHand").classList.remove("mekahanHandAttack1");
    mekahanAct2=0;
   },2000);
  },1000);
}

function mekahanAttack2(){
  mekahanSpan2=1;
  const mekaAt2a = document.getElementById("mekahanBody");
  mekaAt2a.classList.add('mekahanAttack2');
  const mekaAt2b = document.getElementById("mekahanHand");
  mekaAt2b.classList.add('mekahanHandAttack2');
  setTimeout(function(){
   if(sidePosi>70){
    getDamage(10);
   }
   if(sidePosi>=15&&sidePosi<=35){
    getDamage(10);
   }
   enemyFront.push(15,20,25,30,35,75,80,85,90);
   setTimeout(function(){enemyFront=[];},1000);
   setTimeout(function(){
    document.getElementById("mekahanBody").classList.remove("mekahanAttack2");
    document.getElementById("mekahanHand").classList.remove("mekahanHandAttack2");
    mekahanAct2=0;
   },2000);
  },1000);
}

function mekahanAttack3(){
  mekahanSpan3=1;
  const mekaAt3a = document.getElementById("mekahanSet");
  mekaAt3a.classList.add('mekahanAttack3');
  const mekaAt3b = document.getElementById("mekahanJet");
  mekaAt3b.classList.add('mekahanAttackJet');
  const root4 = document.querySelector(':root');
  root4.style.setProperty("--mekahanOpacity4", "1");
  setTimeout(function(){
  if(sidePosi>0&&sidePosi<75){
   getDamage(20);
  }
  enemyFront.push(5,10,15,20,25,30,35,40,45,50,55,65,70);
  setTimeout(function(){enemyFront=[];},1500);
 },4500);

  setTimeout(function(){
   const root1 = document.querySelector(':root');
   root1.style.setProperty("--mekahanOpacity1", "0");
   const root2 = document.querySelector(':root');
   root2.style.setProperty("--mekahanOpacity2", "1");
   const root3 = document.querySelector(':root');
   root3.style.setProperty("--mekahanOpacity3", "1");
   enemyBack=0;

    setTimeout(function(){
     const root3 = document.querySelector(':root');
     root3.style.setProperty("--mekahanOpacity3", "0");
     setTimeout(function(){
      const root3 = document.querySelector(':root');
      root3.style.setProperty("--mekahanOpacity3", "1");
      setTimeout(function(){
       const root1 = document.querySelector(':root');
       root1.style.setProperty("--mekahanOpacity1", "1");
       const root2 = document.querySelector(':root');
       root2.style.setProperty("--mekahanOpacity2", "0");
       const root3 = document.querySelector(':root');
       root3.style.setProperty("--mekahanOpacity3", "0");
       enemyBack=1;
       setTimeout(function(){
        mekahanAct2=0;
        document.getElementById("mekahanSet").classList.remove("mekahanAttack3");
        document.getElementById("mekahanJet").classList.remove("mekahanAttackJet");
        const root4 = document.querySelector(':root');
        root4.style.setProperty("--mekahanOpacity4", "0");
        mekahanSpan1=0;
       },2000);
      },2000);
     },2000);
    },2000);
   },2000);

}




function mekahanAttack4(){
  mekahanSpan4=1;
  const mekaAt3a = document.getElementById("mekahanSet");
  mekaAt3a.classList.add('mekahanAttack3');
  const mekaAt3b = document.getElementById("mekahanJet");
  mekaAt3b.classList.add('mekahanAttackJet');
  const root4 = document.querySelector(':root');
  root4.style.setProperty("--mekahanOpacity4", "1");
  setTimeout(function(){
   if(sidePosi>15&&sidePosi<90){
    getDamage(20);
   }
   enemyFront.push(20,25,30,35,40,45,50,55,65,70,75,80,85);
   setTimeout(function(){enemyFront=[];},1500);
  },4500);
  setTimeout(function(){
   const root1 = document.querySelector(':root');
   root1.style.setProperty("--mekahanOpacity1", "0");
   const root5 = document.querySelector(':root');
   root5.style.setProperty("--mekahanOpacity5", "1");
   const root6 = document.querySelector(':root');
   root6.style.setProperty("--mekahanOpacity6", "1");
   enemyBack=0;

    setTimeout(function(){
     const root6 = document.querySelector(':root');
     root6.style.setProperty("--mekahanOpacity6", "0");
     setTimeout(function(){
      const root6 = document.querySelector(':root');
      root6.style.setProperty("--mekahanOpacity6", "1");
      setTimeout(function(){
       const root1 = document.querySelector(':root');
       root1.style.setProperty("--mekahanOpacity1", "1");
       const root5 = document.querySelector(':root');
       root5.style.setProperty("--mekahanOpacity5", "0");
       const root6 = document.querySelector(':root');
       root6.style.setProperty("--mekahanOpacity6", "0");
       enemyBack=1;
       setTimeout(function(){
        mekahanAct2=0;
        document.getElementById("mekahanSet").classList.remove("mekahanAttack3");
        document.getElementById("mekahanJet").classList.remove("mekahanAttackJet");
        const root4 = document.querySelector(':root');
        root4.style.setProperty("--mekahanOpacity4", "0");
        mekahanSpan2=0;
       },2000);
      },2000);
     },2000);
    },2000);
   },2000);
}

function mekahanAttack5(){
 if(!mekahanSpan5){
  miniMekahanLife1=1;
  miniMekahanLife2=1;
  miniMekaPosi1=20;
  miniMekaPosi2=70;
  miniMekaCount=190;

  mekahanSpan5=1;console.log(mekahanSpan5);
  const mekaAt5a = document.getElementById("mekahanHole1");
  mekaAt5a.classList.add('mekahanAttack5');
  const mekaAt5b = document.getElementById("mekahanHole2");
  mekaAt5b.classList.add('mekahanAttack5');
  const mekaAt5c = document.getElementById("miniMekahanA1");
  mekaAt5c.classList.add('mekahanAttack6');
  const mekaAt5d = document.getElementById("miniMekahanA2");
  mekaAt5d.classList.add('mekahanAttack6');

  document.documentElement.style.setProperty('--miniMekahanField', "1");
  const root8 = document.querySelector(':root');
  root8.style.setProperty("--mekahanOpacity8", "0");
  setTimeout(function(){
   document.getElementById("miniMekahanA1").classList.remove("mekahanAttack6");
   document.getElementById("miniMekahanA2").classList.remove("mekahanAttack6");
   const root8 = document.querySelector(':root');
   root8.style.setProperty("--mekahanOpacity8", "1");
   miniMekahanCheck=1;
   miniSpan=12.34375;
   miniMekahan();
   setTimeout(function(){
    document.getElementById("mekahanHole1").classList.remove("mekahanAttack5");
    document.getElementById("mekahanHole2").classList.remove("mekahanAttack5");
    
    setTimeout(function(){
     miniMekahanCheck=0;
     const mekaAt5f = document.getElementById("miniMekahanB1");
     mekaAt5f.classList.add('mekahanAttack7');
     const mekaAt5g = document.getElementById("miniMekahanB2");
     mekaAt5g.classList.add('mekahanAttack7');
     mekahanSpan5=0;
     mekahanAct2=0;
     setTimeout(function(){
      document.documentElement.style.setProperty('--miniMekahanField', "0");
      document.getElementById("miniMekahanB1").classList.remove("mekahanAttack7");
      document.getElementById("miniMekahanB2").classList.remove("mekahanAttack7");
     },1000);
    },1000);
   },2000);
  },3000);
 }
 else if(sidePosi<=40){
  mekahanAttack1();
 }
 else{
  mekahanAttack2();
 }
}

function miniMekahan(){
 miniSpan=miniSpan+5.15625;
 miniSpanS=String(miniSpan)+"%";
 const rootMiniMeka = document.querySelector(':root');
 rootMiniMeka.style.setProperty("--miniMekahanSide",miniSpanS);
 miniSpanA=miniSpan-2.5;
 miniSpanB=miniSpan+2.5;
 if(leftOn==1||rightOn==1){
  miniSpanA=miniSpan-7.5;
  miniSpanB=miniSpan+7.5;
 }
 miniSpanC=90-miniSpanA;
 miniSpanD=90-miniSpanB;console.log("A"+miniSpanA+",B"+miniSpanB+",C"+miniSpanC+",D"+miniSpanD);
 if(miniSpanA<=sidePosi&&miniSpanB>=sidePosi){
  getDamage(5);
 }
 if(miniSpanC>=sidePosi&&miniSpanD<=sidePosi){
  getDamage(5);
 }
 if(miniMekahanCheck){
  setTimeout(function(){
   miniMekahan();
  },250);
 }
}

function getDamage(damageN){
 if(!gameClearCheck){
  if(guard==0){
   guard=1;
   heroHP=heroHP-(damageN*stageLevel);
   if(heroHP<=0){
    const rootHeroHP = document.querySelector(':root');
    rootHeroHP.style.setProperty("--heroHPbar","0%");
    gameOver();
   }
   else{
    heroHPchange=heroHP*31/defaultHeroHP;
    heroHPchange=String(heroHPchange);
    const rootHeroHP = document.querySelector(':root');
    rootHeroHP.style.setProperty("--heroHPbar", heroHPchange+"%");
    var hitMyh = document.getElementById("damageHitBase");
    hitMyh.innerHTML = "<div id=damageHit></div>";
    damageHitBase.style.zIndex = 10;
    setTimeout(function(){
     hitMyh.innerHTML = " ";
     setTimeout(function(){
      hitMyh.innerHTML = "<div id=damageHit></div>";
      setTimeout(function(){
       hitMyh.innerHTML = " ";
       setTimeout(function(){
        hitMyh.innerHTML = "<div id=damageHit></div>";
        setTimeout(function(){
         hitMyh.innerHTML = " ";
         guard=0;
        },100);
       },100);
      },100);
     },100);
    },100);
   }
  }
 }
}

function heroAttack(heroAttack,heroAttackDirection,heroAttackRange){
 attackSuccess=0;
 var damageEffect = document.getElementById("damageEffectBase");
 damageEffect.innerHTML = " ";
 for(makeArray=0;makeArray<heroAttackRange;makeArray++){
  if(heroAttackDirection==1){
   sidePosiN=Number(sidePosi);
   attackSuccessMark=5*makeArray+sidePosiN;
   if(enemyFront.includes(attackSuccessMark)){
    attackSuccess=1;
    const rootDamageEffect = document.querySelector(':root');
    damagrEffectPosi=attackSuccessMark-2.5;
    damagrEffectPosi=String(damagrEffectPosi)+"%";
    rootDamageEffect.style.setProperty("--damageEffect", damagrEffectPosi);console.log(damagrEffectPosi);
    var damageEffect = document.getElementById("damageEffectBase");
    damageEffect.innerHTML = "<img id=damageEffect src=item/爆発.png>";
    damageEffect.style.zIndex = 10;
    setTimeout(function(){
     var damageEffect = document.getElementById("damageEffectBase");
     damageEffect.innerHTML = " ";
    },200);
   }
  }
  else{
   sidePosiN=Number(sidePosi);
   attackSuccessMark=-5*makeArray+sidePosiN;console.log(makeArray);
   if(enemyFront.includes(attackSuccessMark)){
    attackSuccess=1;
    const rootDamageEffect = document.querySelector(':root');
    damagrEffectPosi=attackSuccessMark-2.5;
    damagrEffectPosi=String(damagrEffectPosi)+"%";
    rootDamageEffect.style.setProperty("--damageEffect", damagrEffectPosi);console.log(damagrEffectPosi);
    var damageEffect = document.getElementById("damageEffectBase");
    damageEffect.innerHTML = "<img id=damageEffect src=item/爆発.png>";
    damageEffect.style.zIndex = 25;
    setTimeout(function(){
     var damageEffect = document.getElementById("damageEffectBase");
     damageEffect.innerHTML = " ";
    },200);
   }
  }
 }
 if(attackSuccess==1){
  enemyHP=enemyHP-(heroAttack*heroAttackStatus*attackBuff);
  if(enemyHP<=0){
   const rootEnemyHP = document.querySelector(':root');
   rootEnemyHP.style.setProperty("--enemyHPbar", "0%");
   if(!gameClearCheck){
    mekahanGameClear();
   }
  }
  else{
   enemyHPchange=enemyHP*46.5/defaultEnemyHP;
   enemyHPchange=String(enemyHPchange);
   const rootEnemyHP = document.querySelector(':root');
   rootEnemyHP.style.setProperty("--enemyHPbar", enemyHPchange+"%");
  }
 }
}

function heroShooting(heroAttack,arriveTime){
 if(enemyBack==1){
  setTimeout(function(){
   document.documentElement.style.setProperty('--backDamageEffect', "1");
   setTimeout(function(){
    document.documentElement.style.setProperty('--backDamageEffect', "0");
   },500);
  },arriveTime);
  enemyHP=enemyHP-(heroAttack*heroAttackStatus*attackBuff);
  if(enemyHP<=0){
   const rootEnemyHP = document.querySelector(':root');
   rootEnemyHP.style.setProperty("--enemyHPbar", "0%");
   if(!gameClearCheck){
    mekahanGameClear();
   }
  }
  else{
   enemyHPchange=enemyHP*46.5/defaultEnemyHP;
   enemyHPchange=String(enemyHPchange);
   const rootEnemyHP = document.querySelector(':root');
   rootEnemyHP.style.setProperty("--enemyHPbar", enemyHPchange+"%");
  }
 }
}

function gameOver(){
 skill=1;
 setTimeout(function(){
  document.documentElement.style.setProperty('--whiteOut', "1");
  setTimeout(function(){
   document.documentElement.style.setProperty('--whiteOut', "0");
   setTimeout(function(){
    var myh1 = document.getElementById("selectedSp");
    myh1.innerHTML = "<img id=spDef src=item/ナタデココ化1.png>";
    setTimeout(function(){
     var myh1 = document.getElementById("selectedSp");
     myh1.innerHTML = "<img id=spDef src=item/ナタデココ化2.png>";
     setTimeout(function(){
      var myh1 = document.getElementById("selectedSp");
      myh1.innerHTML = "<img id=spDef src=item/ナタデココ化3.png>";
      setTimeout(function(){
       document.documentElement.style.setProperty('--gameOverScreen', "1");
       gameOverScreen.style.zIndex=30;
      },1000);
     },500);
    },500);
   },500);
  },200);
 },200);
}

function mekahanGameClear(){
 mekahanAct1=0;
 gameClearCheck=1;
 setTimeout(function(){
  document.documentElement.style.setProperty('--whiteOut', "1");
  setTimeout(function(){
   document.documentElement.style.setProperty('--whiteOut', "0");
   document.documentElement.style.setProperty('--mekahanSet', "0");
   document.documentElement.style.setProperty('--miniMekahanField', "0");
   document.documentElement.style.setProperty('--mekahanOpacity4', "0");
   document.documentElement.style.setProperty('--mekahanEndingSet', "1");
   setTimeout(function(){
    document.documentElement.style.setProperty('--mekahanEndingExplosion1', "1");
    setTimeout(function(){
     document.documentElement.style.setProperty('--mekahanEndingExplosion2', "1");
     setTimeout(function(){
      document.documentElement.style.setProperty('--mekahanEndingExplosion3', "1");
      setTimeout(function(){
       document.documentElement.style.setProperty('--whiteOut', "1");
       document.documentElement.style.setProperty('--mekahanEndingExplosion1', "0");
       document.documentElement.style.setProperty('--mekahanEndingExplosion2', "0");
       document.documentElement.style.setProperty('--mekahanEndingExplosion3', "0");
       setTimeout(function(){
        document.documentElement.style.setProperty('--whiteOut', "0");
        setTimeout(function(){
         whiteOut.style.zIndex=40;
         document.documentElement.style.setProperty('--mekahanEndingSet', "0");
         setTimeout(function(){
          whiteOut.style.zIndex=-60;
          setTimeout(function(){
           document.documentElement.style.setProperty('--mekahanNatadecoco1', "1");
           setTimeout(function(){
            document.documentElement.style.setProperty('--mekahanNatadecoco1', "0");
            document.documentElement.style.setProperty('--mekahanNatadecoco2', "1");
            setTimeout(function(){
             document.documentElement.style.setProperty('--mekahanNatadecoco2', "0");
             document.documentElement.style.setProperty('--mekahanNatadecoco3', "1");
             setTimeout(function(){
              document.documentElement.style.setProperty('--mekahanNatadecoco3', "0");
              toClearResult();
              setTimeout(function(){
               document.documentElement.style.setProperty('--mekahanSet', "1");
               document.documentElement.style.setProperty('--miniMekahanField', "1");
               document.documentElement.style.setProperty('--mekahanOpacity4', "0");
               document.documentElement.style.setProperty('--mekahanOpacity8', "0");
              },2000);
             },500);
            },500);
           },500);
          },500);
         },200);
        },200);
       },200);
      },200);
     },500);
    },500);
   },500);
  },200);
 },200);
}

function toClearResult(){
 gameClearScreen.style.zIndex=0;
 document.documentElement.style.setProperty('--gameClearScreen', "1");

  setTimeout(function(){
   getExperience(spSet,50*stageLevel);
   getExperience(atSet,50*stageLevel);
   getExperience(guSet,50*stageLevel);
   getExperience(taSet,50*stageLevel);
   experienceResultFunction("sprinter",spSet);
   experienceResultFunction("attacker",atSet);
   experienceResultFunction("gunner",guSet);
   experienceResultFunction("tank",taSet);
   var getBMelem = document.getElementById("clearGetBM");
   getBMelem.innerHTML = 50*stageLevel;
   if(SelectedStage=="mekahan"){

    if(nikola==0){
     var myh = document.getElementById("firstClearBase");
     myh.innerHTML = "<div id=firstClear><div class=buttonA><div class=buttonB>初回クリア報酬<br><img id=firstClearImg src=item/nikola.png></div></div></div>";
     nikola=1;
    }
    else if(nikola==1){
     var myh = document.getElementById("firstClearBase");
     myh.innerHTML = "";
    }

    if(stageLevel==1){
     var myh = document.getElementById("getItemBase");
     myh.innerHTML = "<img style=height:100%; src=item/勇気の欠片.png><div class=itemNum>×1</div>";
    }
    else if(stageLevel==2){
     var myh = document.getElementById("getItemBase");
     myh.innerHTML = "<img style=height:100%; src=item/勇気の欠片.png><div class=itemNum>×2</div>";
    }
    else if(stageLevel==3){
     var myh = document.getElementById("getItemBase");
     myh.innerHTML = "<img style=height:100%;  src=item/ジャンクパーツ.png><div class=itemNum>×1</div>";
    }
   }
   clearResultScreen.style.zIndex=0;
  },2000);
}

function getExperience(heroName,experienceNum){
 switch(heroName){
  case "atari":
   atariExperience=atariExperience+experienceNum;
   atariLevel=levelCheck(atariExperience);
  break;
  case "justice":
   justiceExperience=justiceExperience+experienceNum;
   justiceLevel=levelCheck(justiceExperience);
  break;
  case "lyrica":
   lyricaExperience=lyricaExperience+experienceNum;
   lyricaLevel=levelCheck(lyricaExperience);
  break;
  case "noho":
   nohoExperience=nohoExperience+experienceNum;
   nohoLevel=levelCheck(nohoExperience);
  break;
  case "tadaomi":
   tadaomiExperience=tadaomiExperience+experienceNum;
   tadaomiLevel=levelCheck(tadaomiExperience);
  break;
  case "jeanne":
   jeanneExperience=jeanneExperience+experienceNum;
   jeanneLevel=levelCheck(jeanneExperience);
  break;
  case "marcos":
   marcosExperience=marcosExperience+experienceNum;
   marcosLevel=levelCheck(marcosExperience);
  break;
  case "luciano":
   lucianoExperience=lucianoExperience+experienceNum;
   lucianoLevel=levelCheck(lucianoExperience);
  break;
  case "voidoll":
   voidollExperience=voidollExperience+experienceNum;
   voidollLevel=levelCheck(voidollExperience);
  break;
  case "nikola":
   nikolaExperience=nikolaExperience+experienceNum;
   nikolaLevel=levelCheck(nikolaExperience);
  break;
  case "matoi":
   matoiExperience=matoiExperience+experienceNum;
   matoiLevel=levelCheck(matoiExperience);
  break;
 }
}

function levelCheck(heroExperience){
 levelBorder=50;
 for(n=0;levelBorder<=heroExperience;n++){
  levelBorder=(levelBorder*1.2)+levelBorder;
 }
 return n+1;
}

function experienceResultFunction(roleExperienceResult,heroName){
 switch(roleExperienceResult){
  case "sprinter":
   var myhExperience = document.getElementById("spExperienceBase");
  break;
  case "attacker":
   var myhExperience = document.getElementById("atExperienceBase");
  break;
  case "gunner":
   var myhExperience = document.getElementById("guExperienceBase");
  break;
  case "tank":
   var myhExperience = document.getElementById("taExperienceBase");
  break;
 }

 switch(heroName){
  case "atari":
   myhExperience.innerHTML = 
    "<img class=experienceResult1 src=item/atari.png><div class=experienceResult2>Level<font id=atariResultExperience></font></div>"; 
   var elem = document.getElementById("atariResultExperience");
   elem.innerHTML = atariLevel;
  break;

  case "justice":
   myhExperience.innerHTML = 
    "<img class=experienceResult1 src=item/justice_skill1.png><div class=experienceResult2>Level<font id=justiceResultExperience></font></div>"; 
   var elem = document.getElementById("justiceResultExperience");
   elem.innerHTML = justiceLevel;
  break;

  case "lyrica":
   myhExperience.innerHTML = 
    "<img class=experienceResult1 src=item/lyrica.png><div class=experienceResult2>Level<font id=lyricaResultExperience></font></div>"; 
   var elem = document.getElementById("lyricaResultExperience");
   elem.innerHTML = lyricaLevel;
  break;

  case "noho":
   myhExperience.innerHTML = 
    "<img class=experienceResult1 src=item/noho_skill1.png><div class=experienceResult2>Level<font id=nohoResultExperience></font></div>"; 
   var elem = document.getElementById("nohoResultExperience");
   elem.innerHTML = nohoLevel;
  break;

  case "tadaomi":
   myhExperience.innerHTML = 
    "<img class=experienceResult1 src=item/tadaomi.png><div class=experienceResult2>Level<font id=tadaomiResultExperience></font></div>"; 
   var elem = document.getElementById("tadaomiResultExperience");
   elem.innerHTML = tadaomiLevel;
  break;

  case "jeanne":
   myhExperience.innerHTML = 
    "<img class=experienceResult1 src=item/jeanne.png><div class=experienceResult2>Level<font id=jeanneResultExperience></font></div>"; 
   var elem = document.getElementById("jeanneResultExperience");
   elem.innerHTML = jeanneLevel;
  break;

  case "marcos":
   myhExperience.innerHTML = 
    "<img class=experienceResult1 src=item/marcos_skill1.png><div class=experienceResult2>Level<font id=marcosResultExperience></font></div>"; 
   var elem = document.getElementById("marcosResultExperience");
   elem.innerHTML = marcosLevel;
  break;

  case "luciano":
   myhExperience.innerHTML = 
    "<img class=experienceResult1 src=item/luciano_skill1.png><div class=experienceResult2>Level<font id=lucianoResultExperience></font></div>"; 
   var elem = document.getElementById("lucianoResultExperience");
   elem.innerHTML = lucianoLevel;
  break;

  case "voidoll":
   myhExperience.innerHTML = 
    "<img class=experienceResult1 src=item/voidoll.png><div class=experienceResult2>Level<font id=voidollResultExperience></font></div>"; 
   var elem = document.getElementById("voidollResultExperience");
   elem.innerHTML = voidollLevel;
  break;

  case "nikola":
   myhExperience.innerHTML = 
    "<img class=experienceResult1 src=item/nikola.png><div class=experienceResult2>Level<font id=nikolaResultExperience></font></div>"; 
   var elem = document.getElementById("nikolaResultExperience");
   elem.innerHTML = nikolaLevel;
  break;

  case "matoi":
   myhExperience.innerHTML = 
    "<img class=experienceResult1 src=item/matoi.png><div class=experienceResult2>Level<font id=matoiResultExperience></font></div>"; 
   var elem = document.getElementById("matoiResultExperience");
   elem.innerHTML = matoiLevel;
  break;

 }
 
}
</script>

</html>
